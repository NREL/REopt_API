# *********************************************************************************
# REopt, Copyright (c) 2019-2020, Alliance for Sustainable Energy, LLC.
# All rights reserved.
#
# Redistribution and use in source and binary forms, with or without modification,
# are permitted provided that the following conditions are met:
#
# Redistributions of source code must retain the above copyright notice, this list
# of conditions and the following disclaimer.
#
# Redistributions in binary form must reproduce the above copyright notice, this
# list of conditions and the following disclaimer in the documentation and/or other
# materials provided with the distribution.
#
# Neither the name of the copyright holder nor the names of its contributors may be
# used to endorse or promote products derived from this software without specific
# prior written permission.
#
# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
# ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
# WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
# IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
# INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
# BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
# DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
# LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
# OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
# OF THE POSSIBILITY OF SUCH DAMAGE.
# *********************************************************************************
import json
from tastypie.test import ResourceTestCaseMixin
from reo.nested_inputs import nested_input_definitions
from reo.validators import ValidateNestedInput
from reo.nested_to_flat_output import nested_to_flat
from django.test import TestCase  # have to use unittest.TestCase to get tests to store to database, django.test.TestCase flushes db
from reo.models import ModelManager, ScenarioModel
from reo.utilities import check_common_outputs
from functools import reduce  # forward compatibility for Python 3
import operator
import copy
import logging
logging.disable(logging.CRITICAL)


def get_by_path(root, items):
    """Access a nested object in root by item sequence."""
    return reduce(operator.getitem, items, root)


def remove_by_path(root, items):
    """Remove a value in a nested object in root by item sequence."""
    del get_by_path(root, items[:-1])[items[-1]]


class EntryResourceTest(ResourceTestCaseMixin, TestCase):

    REopt_tol = 1e-2

    @classmethod
    def setUpClass(cls):
        super(EntryResourceTest, cls).setUpClass()
        cls.data_definitions = nested_input_definitions
        cls.reopt_base = '/v1/job/'
        cls.missing_rate_urdb = json.load(open('reo/tests/missing_rate.json','r'))
        cls.missing_schedule_urdb = json.load(open('reo/tests/missing_schedule.json','r'))
        cls.nested_post = json.load(open('reo/tests/posts/nestedPOST.json'))

    @property
    def complete_valid_nestedpost(self):
        return copy.deepcopy(self.nested_post)

    def get_response(self, data):
        return self.api_client.post(self.reopt_base, format='json', data=data)

    def check_data_error_response(self, data, text):
        response = self.get_response(data)
        self.assertTrue(text in str(response.content))

    def test_required(self):
        """
        Hit the API with missing required inputs or missing dependencies and verify that the correct message is returned
        """
        required, true_false = self.get_inputs_with_sub_key_from_nested_dict(nested_input_definitions, "required")

        for r in [x for (x,y) in zip(required, true_false) if y is True]:
            test_case = self.complete_valid_nestedpost
            remove_by_path(test_case, r)
            response = self.get_response(test_case)
            text = "Missing Required for {}: {}".format('>'.join(r[:-1]), r[-1])
            err_msg = str(json.loads(response.content)['messages']['input_errors'])
            self.assertTrue(text in err_msg, "'{}' not found in {}".format(text, err_msg))

        electric_tarrif_cases = [['urdb_utility_name', 'urdb_rate_name', 'urdb_response', 'blended_monthly_demand_charges_us_dollars_per_kw'],
                                 ['urdb_utility_name', 'urdb_rate_name', 'urdb_response', 'blended_monthly_rates_us_dollars_per_kwh'],
                                 ['urdb_rate_name',"urdb_response",'blended_monthly_demand_charges_us_dollars_per_kw', 'blended_monthly_rates_us_dollars_per_kwh']]
        for c in electric_tarrif_cases:
            test_case = self.complete_valid_nestedpost
            for r in c:
                del test_case['Scenario']['Site']['ElectricTariff'][r]
            response = self.get_response(test_case)
            text = "Missing Required for Scenario>Site>ElectricTariff"
            self.assertTrue(text in str(json.loads(response.content)['messages']['input_errors']))

        load_profile_cases = [['doe_reference_name', 'annual_kwh', 'monthly_totals_kwh', 'loads_kw'],
                              ['doe_reference_name', 'loads_kw', 'annual_kwh'],
                              ['doe_reference_name', 'loads_kw', 'monthly_totals_kwh']]
        for c in load_profile_cases:
            test_case = self.complete_valid_nestedpost
            for r in c:
                del test_case['Scenario']['Site']['LoadProfile'][r]
            response = self.get_response(test_case)
            text = "Missing Required for Scenario>Site>LoadProfile"
            self.assertTrue(text in str(json.loads(response.content)['messages']['input_errors']))

    def test_valid_data_types(self):

        validator = ValidateNestedInput(self.complete_valid_nestedpost)
        for attribute, test_data in validator.test_data('type'):
            if attribute not in ["doe_reference_name", "percent_share"]:
                response = self.get_response(test_data)
                text = "Could not convert " + attribute
                err_msg = str(json.loads(response.content)['messages']['input_errors'])
                self.assertTrue(text in err_msg)
                self.assertTrue("(OOPS)" in err_msg)

    def test_outage_hours(self):
        data = self.complete_valid_nestedpost
        data['Scenario']['Site']['LoadProfile']['outage_start_time_step'] = 0
        data['Scenario']['Site']['LoadProfile']['outage_end_time_step'] = None
        response = self.get_response(data)
        err_msg = str(json.loads(response.content)['messages']['input_errors'])
        self.assertTrue("Missing Required for Scenario>Site>LoadProfile: (outage_end_time_step)" in err_msg)

        data['Scenario']['Site']['LoadProfile']['outage_start_time_step'] = None
        data['Scenario']['Site']['LoadProfile']['outage_end_time_step'] = 0
        response = self.get_response(data)
        err_msg = str(json.loads(response.content)['messages']['input_errors'])
        self.assertTrue("Missing Required for Scenario>Site>LoadProfile: (outage_start_time_step)" in err_msg)
        
        data['Scenario']['Site']['LoadProfile']['outage_start_time_step'] = 2
        data['Scenario']['Site']['LoadProfile']['outage_end_time_step'] = 1
        response = self.get_response(data)
        err_msg = str(json.loads(response.content)['messages']['input_errors'])

        self.assertTrue("LoadProfile outage_end_time_step must be larger than outage_start_time_step" in err_msg)

    def test_valid_data_ranges(self):


        input = ValidateNestedInput(self.complete_valid_nestedpost)

        for attribute, test_data in input.test_data('min'):
            text = "is less than the allowable min"
            response = self.get_response(test_data)
            err_msg = str(json.loads(response.content)['messages']['input_errors'])
            self.assertTrue(text in err_msg, "'{}' not found in '{}'".format(text, err_msg))

        for attribute, test_data in input.test_data('max'):
            text = "exceeds allowable max"
            response = self.get_response(test_data)
            err_msg = str(json.loads(response.content)['messages']['input_errors'])
            self.assertTrue(text in err_msg, "'{}' not found in '{}'".format(text, err_msg))

        for attribute, test_data in input.test_data('restrict_to'):
            text = "not in allowable inputs"
            response = self.get_response(test_data)
            err_msg = str(json.loads(response.content)['messages']['input_errors'])
            self.assertTrue(text in err_msg, "'{}' not found in '{}'".format(text, err_msg))

    def test_urdb_rate(self):

        data = self.complete_valid_nestedpost

        data['Scenario']['Site']['ElectricTariff']['urdb_response'] = self.missing_rate_urdb
        data['Scenario']['Site']['ElectricTariff']['urdb_response']['label'] = '55fc8115682bea28da645f70'
        text = "URDB Rate (label=55fc8115682bea28da645f70) is currently restricted due to performance limitations"
        self.check_data_error_response(data,text)

        data['Scenario']['Site']['ElectricTariff']['urdb_response'] = self.missing_rate_urdb
        text = "Missing rate/sell/adj attributes for tier 0 in rate 0 energyratestructure"
        self.check_data_error_response(data,text)

        data['Scenario']['Site']['ElectricTariff']['urdb_response'] = self.missing_schedule_urdb

        text = 'energyweekdayschedule contains value 1 which has no associated rate in energyratestructure'
        self.check_data_error_response(data,text)

        text = 'energyweekendschedule contains value 1 which has no associated rate in energyratestructure'
        self.check_data_error_response(data,text)

    def test_custom_critical_load(self):
        """
        Tests that a custom critical load profile provides the same expected results as providing a critical load percent
        :return: None
        """
        critical_load_pct = 0.5
        critical_post = {"Scenario": {"webtool_uuid": None, "description": "", "timeout_seconds": 295, "Site": {"PV": {"pbi_years": 1.0, "macrs_bonus_pct": 0.0, "max_kw": 10000.0, "pbi_max_us_dollars": 1000000000.0, "radius": 0.0, "state_ibi_pct": 0.0, "utility_rebate_max_us_dollars": 10000000000.0, "installed_cost_us_dollars_per_kw": 2000.0, "utility_ibi_max_us_dollars": 10000000000.0, "tilt": 10.0, "federal_rebate_us_dollars_per_kw": 0.0, "gcr": 0.4, "pbi_system_max_kw": 1000000000.0, "utility_ibi_pct": 0.0, "state_ibi_max_us_dollars": 10000000000.0, "state_rebate_us_dollars_per_kw": 0.0, "macrs_option_years": 5, "state_rebate_max_us_dollars": 10000000000.0, "dc_ac_ratio": 1.1, "federal_itc_pct": 0.3, "pbi_us_dollars_per_kwh": 0.0, "module_type": 0, "array_type": 1, "existing_kw": 100.0, "om_cost_us_dollars_per_kw": 16.0, "utility_rebate_us_dollars_per_kw": 0.0, "min_kw": 0.0, "losses": 0.14, "macrs_itc_reduction": 0.5, "degradation_pct": 0.005, "inv_eff": 0.96, "azimuth": 180.0}, "Generator": {"pbi_years": 0.0, "macrs_bonus_pct": 0.0, "om_cost_us_dollars_per_kwh": 0.01, "max_kw": 0.0, "pbi_max_us_dollars": 0.0, "state_ibi_pct": 0.0, "fuel_intercept_gal_per_hr": 0.0, "generator_only_runs_during_grid_outage": True, "state_rebate_us_dollars_per_kw": 0.0, "installed_cost_us_dollars_per_kw": 600.0, "utility_ibi_max_us_dollars": 0.0, "fuel_avail_gal": 1000000000.0, "min_turn_down_pct": 0.0, "pbi_system_max_kw": 0.0, "utility_ibi_pct": 0.0, "state_ibi_max_us_dollars": 0.0, "diesel_fuel_cost_us_dollars_per_gallon": 3.0, "fuel_slope_gal_per_kwh": 0.0, "utility_rebate_max_us_dollars": 0.0, "macrs_option_years": 0, "state_rebate_max_us_dollars": 0.0, "federal_itc_pct": 0.0, "existing_kw": 0.0, "pbi_us_dollars_per_kwh": 0.0, "om_cost_us_dollars_per_kw": 10.0, "utility_rebate_us_dollars_per_kw": 0.0, "min_kw": 0.0, "macrs_itc_reduction": 0.0, "federal_rebate_us_dollars_per_kw": 0.0, "generator_sells_energy_back_to_grid": False}, "LoadProfile": {"critical_loads_kw_is_net": False, "critical_load_pct": 0.5, "loads_kw_is_net": True, "loads_kw": [8.28472, 8.1199, 8.21109, 8.24162, 8.59033, 8.59479, 9.76456, 9.71199, 10.5755, 10.5238, 10.781, 10.8557, 10.9548, 10.9132, 10.8663, 10.8887, 10.5439, 10.058, 9.48138, 9.41261, 9.0583, 9.00104, 8.57216, 8.5882, 8.6263, 8.60143, 8.61537, 8.62749, 10.191, 10.2282, 13.4571, 15.0529, 15.5117, 15.9912, 16.1977, 16.2371, 15.8301, 15.7967, 15.5298, 15.5622, 15.7717, 15.961, 12.0342, 11.8804, 9.43314, 8.8407, 8.14454, 8.36724, 7.97409, 8.02078, 8.10222, 8.21922, 9.83029, 9.7822, 13.1023, 14.7034, 15.1802, 15.593, 15.6747, 15.6874, 15.2413, 15.8079, 15.8132, 15.1759, 14.9932, 15.193, 11.3149, 11.2934, 9.61778, 9.28846, 7.99839, 7.96542, 7.80097, 7.67754, 7.6474, 7.61717, 9.28822, 9.39611, 12.7323, 14.3905, 14.9291, 15.3965, 15.5567, 15.6959, 15.1154, 15.5501, 15.0694, 14.9288, 15.0946, 15.5592, 11.7213, 11.6304, 9.53574, 8.97927, 7.42655, 7.48289, 7.31341, 7.27255, 7.2598, 7.24887, 8.84072, 8.86267, 12.2419, 13.8453, 14.3161, 14.709, 14.8034, 14.8356, 14.3486, 14.7423, 14.7517, 14.7756, 14.9324, 15.1261, 11.248, 11.1616, 9.1843, 8.70686, 7.36948, 7.36862, 7.22806, 7.20076, 7.17683, 7.12058, 8.75462, 8.77183, 12.0967, 13.7382, 14.2845, 14.7162, 14.852, 14.9006, 14.4552, 14.8797, 14.904, 14.9011, 15.0098, 15.1509, 11.2357, 11.1501, 9.17595, 8.69343, 7.36178, 7.37365, 7.21929, 7.20749, 7.1992, 7.19095, 7.5655, 7.55541, 8.69327, 10.18, 10.2982, 11.7175, 11.8457, 11.9467, 11.6416, 11.5587, 11.5608, 10.5081, 10.6423, 10.2583, 9.47609, 9.38525, 7.78945, 7.77711, 7.36816, 7.36483, 7.01395, 7.00907, 7.00972, 7.00855, 7.39337, 7.38981, 8.51291, 8.35535, 9.37133, 9.31165, 9.4256, 9.45974, 9.48789, 9.43378, 9.42009, 9.42373, 9.21378, 8.74951, 8.1079, 8.06063, 7.66862, 7.62131, 7.2161, 7.20577, 7.23491, 7.2203, 7.2131, 7.20769, 8.79454, 8.80587, 12.1581, 13.7628, 14.2697, 14.7021, 14.847, 15.0015, 14.597, 15.04, 15.1026, 15.1067, 15.1954, 15.3345, 11.4235, 11.3416, 9.37075, 8.85918, 7.49135, 7.42584, 7.25891, 7.24781, 7.17351, 7.22093, 8.81347, 8.83429, 12.1797, 13.8053, 14.3547, 14.8548, 15.2013, 15.3882, 14.9452, 15.238, 15.226, 15.2114, 15.3231, 15.4771, 11.5414, 11.3848, 9.39123, 8.95547, 7.66333, 7.68629, 7.48934, 7.41644, 7.37704, 7.33609, 8.83906, 8.83949, 12.2049, 13.8393, 14.3674, 14.8241, 15.077, 15.2811, 14.8844, 15.2865, 15.2646, 15.2474, 15.3025, 15.3592, 11.3942, 11.3403, 9.34193, 8.82386, 7.41876, 7.40296, 7.25719, 7.24868, 7.23831, 7.2354, 8.8275, 8.83873, 12.2078, 13.8415, 14.344, 14.7901, 14.9942, 15.1724, 14.7315, 15.0749, 15.0173, 15.0135, 15.1166, 15.4718, 12.2691, 12.5445, 10.5349, 9.90612, 8.46842, 8.59569, 8.52541, 8.38014, 8.48122, 8.50608, 9.9838, 9.98411, 13.5208, 15.1974, 15.629, 15.9534, 16.0872, 16.2117, 15.9291, 16.4294, 16.0674, 15.4623, 15.1411, 15.2318, 11.2419, 11.1422, 9.17775, 8.71522, 7.54471, 7.94072, 7.77457, 7.89122, 8.17407, 8.21571, 8.62514, 8.70726, 9.88583, 11.4695, 11.5741, 13.0322, 13.2354, 13.2971, 12.6989, 12.3639, 12.5705, 11.3857, 10.9148, 10.249, 9.4847, 9.38087, 7.83853, 7.81156, 7.40854, 7.40076, 7.04432, 7.04438, 7.01756, 7.11267, 7.61486, 7.7253, 8.86947, 8.75197, 9.60898, 9.50708, 9.5523, 9.46072, 9.5146, 9.45041, 9.47491, 9.52888, 9.2316, 8.81849, 8.1553, 8.03626, 7.64398, 7.61548, 7.20691, 7.20784, 7.05161, 7.03818, 7.01402, 7.00332, 7.38917, 7.38648, 8.51195, 8.36401, 9.39984, 9.33886, 9.46069, 9.49282, 9.46554, 9.40843, 9.40882, 9.3469, 9.03454, 8.66216, 8.0391, 7.96137, 7.61386, 7.62513, 7.21587, 7.21482, 7.26425, 7.25772, 7.24633, 7.23237, 8.84155, 8.84697, 12.1927, 13.8578, 14.4955, 14.8934, 14.8539, 14.8325, 14.3672, 14.7266, 14.718, 14.7101, 14.7854, 15.0231, 11.2106, 11.121, 9.14899, 8.73308, 7.58462, 7.75617, 7.70161, 7.68301, 7.69529, 7.77798, 9.46045, 9.60663, 13.0046, 14.7856, 15.4206, 15.849, 15.6842, 15.4268, 14.7548, 15.1534, 15.7873, 16.0487, 15.9838, 16.0485, 12.0254, 11.8802, 9.90892, 9.40992, 8.12891, 8.25711, 8.18672, 8.19941, 8.18108, 8.17065, 9.77377, 9.84173, 13.1912, 14.7841, 15.3026, 15.7072, 15.8544, 16.0355, 15.3677, 15.5824, 15.468, 15.3553, 15.3378, 15.4939, 11.7025, 11.5961, 9.78221, 9.54779, 8.24831, 8.20727, 8.02898, 7.85108, 7.79781, 7.84972, 9.56867, 9.8332, 13.1808, 15.038, 15.4472, 15.6977, 16.0395, 16.3146, 15.8642, 16.1352, 15.9372, 15.3701, 15.6732, 15.5268, 11.2624, 11.2347, 9.37329, 9.0377, 7.88483, 8.1024, 8.02491, 8.04918, 8.06427, 8.03364, 8.38735, 8.43242, 9.59405, 11.0361, 11.0064, 12.0417, 11.857, 11.8859, 11.5121, 11.4281, 11.4397, 10.3622, 10.4257, 10.1514, 9.42198, 9.34746, 7.77055, 7.76208, 7.36601, 7.37179, 7.04089, 7.5891, 7.611, 7.39557, 7.72077, 8.10632, 9.16156, 8.73449, 9.62482, 9.67974, 10.121, 10.4815, 10.4822, 10.4699, 10.1943, 9.70277, 9.3956, 8.9456, 8.07542, 8.45595, 8.52895, 8.27718, 7.76437, 7.79449, 7.82347, 7.83973, 7.89189, 7.80691, 9.39657, 9.4636, 12.868, 14.557, 15.0294, 15.463, 15.6913, 15.8089, 15.1792, 15.019, 14.9592, 14.9731, 14.9889, 15.2653, 11.4578, 11.3537, 9.34352, 8.85003, 7.46296, 7.40691, 7.24045, 7.21825, 7.20783, 7.22938, 8.87896, 8.90356, 12.2995, 14.0068, 14.4895, 14.9441, 15.4406, 15.3911, 14.971, 15.5033, 15.6019, 15.4976, 15.3548, 15.494, 11.49, 11.5729, 10.2632, 10.1008, 8.17398, 7.83488, 7.65342, 7.86344, 7.92971, 7.87764, 9.63282, 9.73635, 13.2606, 15.051, 15.4874, 16.0035, 16.2367, 16.4095, 16.1517, 16.6017, 16.6508, 16.6018, 16.508, 16.5854, 12.4401, 12.2418, 10.1748, 9.71762, 8.5961, 8.60168, 8.44266, 8.48413, 8.487, 8.51388, 10.0093, 10.0936, 13.462, 15.1211, 15.5521, 15.9652, 16.2526, 16.3851, 16.1467, 16.7738, 16.798, 16.1377, 15.61, 15.9812, 12.2534, 12.2137, 10.1388, 9.58032, 8.31122, 8.26719, 8.19239, 8.18066, 8.1863, 8.21509, 9.6722, 9.61131, 12.9992, 14.7694, 15.2046, 15.4965, 15.6849, 15.968, 15.7368, 15.8837, 15.687, 15.5372, 15.4092, 15.4319, 11.3203, 11.3264, 9.41755, 8.9224, 7.56098, 7.54191, 7.29082, 7.28435, 7.27807, 7.27494, 7.69532, 7.66064, 8.84918, 10.4736, 10.6142, 12.1249, 12.4705, 12.8067, 12.0453, 11.9427, 11.8722, 10.6801, 10.6764, 10.4159, 9.92338, 9.7232, 8.04967, 7.9546, 7.50156, 7.43191, 7.08481, 7.0806, 7.05939, 7.04043, 7.43387, 7.48875, 8.60195, 8.50187, 9.5104, 9.36098, 9.54046, 9.76309, 9.9112, 9.8235, 9.6932, 9.57372, 9.21445, 8.71251, 8.10975, 8.03025, 7.64947, 7.64123, 7.26694, 7.22556, 7.22985, 7.22777, 7.22517, 7.21883, 8.8059, 8.81967, 12.1174, 13.7951, 14.2983, 14.7157, 14.8299, 14.9085, 14.5094, 14.9774, 14.9781, 14.9765, 15.0206, 15.1288, 11.2767, 11.1836, 9.20053, 8.72648, 7.40275, 7.40315, 7.23185, 7.21973, 7.21518, 7.20673, 8.82258, 8.83322, 12.1268, 13.8028, 14.3245, 14.7568, 14.9202, 14.9797, 14.4913, 14.8986, 14.9074, 14.9054, 14.958, 15.0939, 11.2422, 11.1502, 9.17875, 8.71592, 7.40023, 7.41951, 7.29378, 7.30585, 7.30985, 7.31973, 8.91837, 8.92243, 12.2047, 13.872, 14.3666, 14.7671, 14.8643, 14.8947, 14.435, 14.8574, 14.8877, 14.9091, 14.9745, 15.1054, 11.2497, 11.167, 9.1978, 8.73063, 7.40381, 7.41407, 7.26773, 7.26269, 7.25862, 7.25892, 8.85275, 8.87501, 12.1896, 13.8738, 14.3698, 14.7665, 14.8683, 14.8989, 14.4191, 14.8272, 14.8726, 14.9098, 14.9507, 15.0882, 11.2412, 11.1503, 9.16825, 8.69681, 7.37257, 7.38348, 7.23005, 7.17367, 7.19746, 7.19166, 8.81192, 8.82417, 12.0597, 13.7754, 14.3102, 14.7602, 14.8948, 14.9832, 14.5755, 14.9941, 15.0208, 14.988, 15.0804, 15.1469, 11.245, 11.1377, 9.16392, 8.69136, 7.36055, 7.38288, 7.2032, 7.18954, 7.19011, 7.18766, 7.57159, 7.61404, 8.65342, 10.1438, 10.2785, 11.7145, 11.8427, 11.902, 11.6492, 11.6343, 11.6221, 10.5528, 10.6246, 10.2643, 9.53392, 9.39528, 7.79553, 7.78456, 7.39726, 7.39228, 7.03367, 7.03271, 7.00478, 7.00333, 7.38978, 7.38567, 8.4494, 8.34962, 9.35953, 9.31025, 9.43718, 9.53898, 9.60096, 9.53604, 9.51443, 9.4742, 9.15113, 8.69123, 8.10861, 7.99804, 7.5988, 7.59144, 7.18768, 7.18826, 7.23023, 7.21776, 7.21484, 7.21647, 8.82043, 8.84624, 12.1395, 13.8046, 14.2936, 14.7068, 14.8436, 14.9525, 14.5921, 15.097, 15.0837, 15.0442, 15.0976, 15.2018, 11.3421, 11.2326, 9.26787, 8.80771, 7.45389, 7.4397, 7.26908, 7.25077, 7.23916, 7.22512, 8.83553, 8.83975, 12.1212, 13.7781, 14.2826, 14.7238, 14.8634, 14.9994, 14.718, 15.2399, 15.2294, 15.1785, 15.1634, 15.2513, 11.3717, 11.2519, 9.24532, 8.75157, 7.41543, 7.41447, 7.26518, 7.26391, 7.25596, 7.25006, 8.85004, 8.87808, 12.1889, 13.874, 14.3567, 14.7528, 14.8646, 14.93, 14.4654, 14.8697, 14.8864, 14.8964, 14.9546, 15.1139, 11.2444, 11.1516, 9.18394, 8.72344, 7.39886, 7.40955, 7.25608, 7.24405, 7.23226, 7.22704, 8.81433, 8.82839, 12.1158, 13.7659, 14.3259, 14.8135, 15.0789, 15.3236, 14.9402, 15.3822, 15.4837, 15.4065, 15.4094, 15.4874, 11.4917, 11.3679, 9.386, 8.83555, 7.60594, 8.04231, 8.20061, 8.36237, 8.26246, 8.07417, 9.50452, 9.65373, 13.104, 14.765, 15.3434, 15.9105, 16.1842, 15.9829, 15.1871, 15.5745, 15.5707, 15.512, 15.5191, 15.5998, 11.5078, 11.3458, 9.32925, 8.80717, 7.50675, 7.54275, 7.40856, 7.35201, 7.316, 7.38099, 7.73084, 7.682, 8.73236, 10.2286, 10.3807, 12.0473, 12.4398, 12.6124, 12.2553, 12.1484, 12.117, 10.987, 11.033, 10.6501, 9.87544, 9.75946, 8.24129, 8.16151, 7.65323, 7.60193, 7.20454, 7.16143, 7.13596, 7.15615, 7.51979, 7.46693, 8.64449, 8.65603, 9.87309, 10.0253, 10.2415, 10.4089, 10.4968, 10.4054, 10.2839, 10.21, 9.82857, 9.20412, 8.4529, 8.31299, 7.92399, 7.90184, 7.53348, 7.58845, 7.59012, 7.75013, 7.81088, 7.66095, 9.14748, 9.2068, 12.5514, 14.2094, 14.7088, 15.2911, 15.5871, 15.8544, 15.2093, 15.6414, 15.628, 15.5484, 15.5794, 15.5778, 11.6087, 11.453, 9.4648, 8.97458, 7.58808, 7.53657, 7.32896, 7.29774, 7.27719, 7.27153, 8.89799, 8.89527, 12.1053, 13.841, 14.3805, 14.936, 15.2917, 15.5118, 15.1702, 15.6474, 15.5944, 15.4533, 15.342, 15.3114, 11.4573, 11.3917, 9.40968, 8.92242, 7.57364, 7.55329, 7.37641, 7.3408, 7.33017, 7.31595, 8.88996, 8.90481, 12.1547, 13.8944, 14.396, 14.8107, 14.9371, 15.0082, 14.6591, 15.1639, 15.1305, 15.086, 15.1363, 15.2141, 11.3853, 11.2722, 9.28925, 8.84724, 7.52851, 7.54093, 7.39562, 7.39549, 7.39536, 7.38194, 8.95556, 8.97242, 12.2284, 13.9739, 14.4672, 14.8649, 14.9759, 15.0136, 14.5518, 14.9861, 15.0259, 15.0418, 15.1239, 15.1996, 11.289, 11.1515, 9.17993, 8.71169, 7.38541, 7.39811, 7.2551, 7.25368, 7.23957, 7.2333, 8.85332, 8.8674, 12.1056, 13.8432, 14.3537, 14.7821, 14.8844, 14.9396, 14.5919, 15.1255, 15.1664, 15.0967, 15.1006, 15.1637, 11.3335, 11.2228, 9.24769, 8.75487, 7.40489, 7.41354, 7.25606, 7.21065, 7.19004, 7.20398, 7.58709, 7.63214, 8.59075, 10.1845, 10.3335, 11.7633, 11.9296, 12.0541, 11.7637, 11.6951, 11.6759, 10.5486, 10.539, 10.0638, 9.44106, 9.35878, 7.7847, 7.77586, 7.38517, 7.39532, 7.05009, 7.01166, 6.99176, 7.00127, 7.38534, 7.38535, 8.39112, 8.36374, 9.39429, 9.32999, 9.42905, 9.44809, 9.46536, 9.4395, 9.43067, 9.34022, 9.03072, 8.52775, 8.53979, 8.93351, 8.64598, 8.75642, 8.42612, 8.41584, 8.22616, 8.23985, 8.24795, 8.26406, 8.65377, 8.69713, 9.66182, 9.60846, 10.638, 10.5939, 10.6425, 10.5914, 10.3693, 10.0017, 9.81324, 9.60586, 9.26757, 8.68974, 8.10255, 7.93844, 7.55807, 7.6866, 7.39367, 7.23996, 7.32731, 7.42528, 7.46097, 7.52514, 9.15812, 9.17373, 12.3978, 14.0841, 14.4172, 14.7234, 14.8011, 14.8466, 14.394, 14.8628, 14.87, 14.848, 14.8846, 14.9563, 11.2268, 11.1259, 9.15911, 8.70324, 7.37814, 7.38234, 7.24106, 7.21223, 7.18003, 7.19451, 8.78461, 8.79904, 12.0345, 13.7702, 14.2971, 14.7262, 14.8434, 14.8781, 14.4, 14.8254, 14.8701, 14.8475, 14.8888, 15.0092, 11.247, 11.168, 9.19589, 8.72235, 7.39076, 7.3963, 7.23857, 7.21204, 7.19269, 7.19405, 8.78873, 8.80934, 12.0605, 13.9827, 14.6526, 15.0988, 15.1339, 15.1297, 14.5863, 15.049, 15.0982, 15.1118, 15.2007, 15.2914, 11.4148, 11.4543, 9.38656, 9.04123, 8.00365, 8.094, 7.6764, 7.38194, 7.2933, 7.29657, 8.96484, 9.06385, 12.3569, 14.0531, 14.4606, 14.8271, 15.0003, 15.1399, 14.7877, 15.2383, 15.2207, 15.1698, 15.1646, 15.1343, 11.2568, 11.1572, 9.19345, 8.76238, 7.44231, 7.43659, 7.265, 7.24772, 7.18514, 7.19157, 7.5808, 7.57987, 8.5834, 10.1756, 10.3402, 11.847, 12.0851, 12.161, 11.8032, 11.6927, 11.9829, 11.2941, 11.6615, 11.4587, 10.9458, 10.8688, 9.27451, 9.24008, 8.85672, 8.86036, 8.53713, 8.54936, 8.51901, 8.52024, 8.92152, 8.99197, 10.0193, 9.96316, 10.9261, 10.8211, 10.8869, 10.9042, 10.9184, 10.8483, 11.1661, 11.3539, 11.0174, 10.4372, 9.79451, 9.51986, 9.08402, 9.04479, 8.61375, 8.59303, 8.65266, 8.67596, 8.68018, 8.72507, 10.1917, 10.1637, 13.3833, 15.2236, 15.6358, 16.0608, 16.1862, 16.1933, 15.5353, 15.6233, 15.4318, 15.2539, 15.1571, 15.0661, 11.2304, 11.1531, 9.25198, 8.81731, 7.47368, 7.66751, 7.69454, 7.58371, 7.59028, 7.67495, 9.45663, 9.73805, 13.009, 14.781, 15.2451, 15.6657, 15.6202, 15.4488, 14.7811, 14.9711, 14.8465, 14.7968, 14.8762, 14.993, 11.2145, 11.1641, 9.24869, 8.76377, 7.42187, 7.39119, 7.20275, 7.20503, 7.20786, 7.206, 8.79094, 8.80757, 11.9849, 13.7935, 14.3846, 14.8064, 14.9161, 15.0423, 14.6292, 15.0686, 15.0829, 15.1071, 15.1606, 15.201, 11.3238, 11.2052, 9.21728, 8.77662, 7.47146, 7.46762, 7.27578, 7.27052, 7.26986, 7.26568, 8.85048, 8.87183, 12.0724, 13.883, 14.3854, 14.7998, 14.9301, 15.0454, 14.6022, 15.0329, 15.0397, 15.0112, 15.0678, 15.0592, 11.2567, 11.1757, 9.21069, 8.75925, 7.43738, 7.45253, 7.27485, 7.25854, 7.24829, 7.24065, 8.85514, 8.87751, 12.0541, 13.9446, 14.53, 14.9517, 15.1167, 15.338, 15.0473, 15.6548, 15.6951, 15.581, 15.6574, 15.6805, 11.7786, 11.5932, 9.55037, 9.0684, 7.74252, 7.75277, 7.54722, 7.44095, 7.33337, 7.60646, 8.24812, 7.82266, 8.88866, 10.6552, 10.8631, 12.4967, 12.9436, 13.3376, 12.9352, 12.5424, 12.717, 11.6652, 11.067, 10.4086, 9.8445, 10.0099, 8.46148, 8.29625, 7.64781, 7.66272, 7.29331, 7.25681, 7.25979, 7.28904, 7.63078, 7.63008, 8.52488, 8.64602, 9.74269, 9.59391, 9.6593, 9.68868, 9.68303, 9.65185, 9.81195, 9.93983, 9.7264, 9.16163, 8.67028, 8.54198, 8.16367, 8.1842, 7.79973, 7.78742, 7.81056, 7.77831, 7.76368, 7.78873, 9.37016, 9.35228, 12.5177, 14.3127, 14.817, 15.2445, 15.4889, 15.5629, 15.0451, 15.3905, 15.3222, 15.3298, 15.4014, 15.4438, 11.7622, 11.6479, 9.69195, 9.25749, 7.91596, 7.83888, 7.73855, 7.40578, 7.57027, 7.62719, 9.27254, 9.32145, 12.5291, 14.3216, 14.7932, 15.1347, 15.2327, 15.2656, 14.7351, 15.1805, 15.304, 15.2663, 15.2877, 15.3595, 11.5991, 11.5155, 9.57276, 9.1423, 7.85653, 7.82581, 7.59041, 7.53265, 7.47543, 7.39868, 8.96278, 9.01755, 12.2262, 14.0321, 14.5873, 15.0874, 15.2135, 15.2161, 14.759, 15.2645, 15.235, 15.1102, 15.1069, 15.0916, 11.2931, 11.2708, 9.35841, 8.92775, 7.61242, 7.5716, 7.42229, 7.46497, 7.45578, 7.47119, 9.09149, 9.12176, 12.3051, 14.0877, 14.5518, 14.9791, 15.2923, 15.4767, 14.9963, 15.4276, 15.5105, 15.5196, 15.5102, 15.504, 11.6796, 11.5526, 9.55954, 9.07105, 7.72131, 7.66675, 7.50873, 7.51461, 7.43083, 7.31514, 8.94492, 9.0525, 12.2685, 14.0824, 14.647, 15.096, 15.2387, 15.3678, 15.0279, 15.4742, 15.4824, 15.4491, 15.4714, 15.4555, 11.5742, 11.4227, 9.45219, 8.99258, 7.65268, 7.63908, 7.45475, 7.45894, 7.47444, 7.43889, 7.78936, 7.75825, 8.62939, 10.373, 10.5668, 12.0798, 12.2881, 12.3371, 11.9481, 11.8435, 11.9015, 10.9473, 11.0974, 10.6436, 10.0585, 9.96397, 8.3572, 8.27908, 7.79204, 7.72003, 7.37479, 7.40249, 7.37993, 7.76097, 7.77932, 8.9364, 8.8076, 9.85515, 9.81716, 9.87325, 9.89694, 10.0579, 10.0332, 9.95098, 9.82721, 9.49631, 8.8195, 8.14321, 8.23887, 7.84712, 7.80335, 7.37585, 7.4057, 7.2448, 7.36252, 7.34208, 7.36106, 8.97336, 8.99172, 12.3522, 13.9495, 14.4577, 14.9552, 15.1324, 15.2052, 14.7996, 15.2683, 15.3662, 15.3422, 15.3556, 15.2936, 11.3784, 11.4431, 9.44603, 8.95381, 7.60095, 7.58376, 7.40274, 7.36223, 7.30367, 7.26018, 8.87564, 8.88129, 12.2414, 13.8542, 14.3907, 14.873, 15.0937, 15.1971, 14.7045, 15.1003, 15.1335, 15.1675, 15.2236, 15.151, 11.2159, 11.2611, 9.25937, 8.76095, 7.45204, 7.50146, 7.30982, 7.25391, 7.25605, 7.31405, 8.99762, 9.08874, 12.4906, 14.1381, 14.633, 14.9586, 14.9852, 14.9826, 14.4522, 14.8271, 14.8271, 14.8233, 14.9069, 14.9123, 11.0723, 11.173, 9.24662, 8.80875, 7.49067, 7.50052, 7.32416, 7.35516, 7.27003, 7.22192, 8.97943, 9.13419, 12.5103, 14.1294, 14.5617, 14.9799, 15.0539, 15.0641, 14.6114, 15.0085, 14.985, 15.0737, 15.2043, 15.2167, 11.2907, 11.3549, 9.39963, 8.94413, 7.7718, 7.44154, 7.26508, 7.26195, 7.25756, 7.24764, 8.86404, 8.86657, 12.1699, 13.8225, 14.3502, 14.7901, 14.9698, 15.1308, 14.8313, 15.3993, 15.4517, 15.5261, 15.5477, 15.4326, 11.4435, 11.491, 9.44558, 8.94487, 7.59656, 7.61054, 7.49688, 7.50589, 7.48125, 7.44225, 7.74771, 7.64946, 8.75766, 10.2073, 10.3471, 11.844, 12.0363, 12.085, 11.7399, 11.6737, 11.717, 10.6737, 10.7461, 10.2282, 9.4698, 9.45579, 7.84156, 7.82999, 7.43926, 7.44164, 7.26057, 7.05514, 7.05357, 7.05318, 7.43377, 7.41407, 8.9014, 9.17542, 10.1329, 9.95429, 9.74849, 9.58897, 9.50071, 9.36425, 9.36609, 9.36318, 9.06633, 8.43242, 7.84672, 7.94218, 7.58514, 7.99952, 8.03927, 8.09635, 7.97397, 8.25059, 8.23032, 8.06902, 9.12842, 8.91319, 12.2505, 13.8376, 14.3276, 14.7673, 14.8506, 14.9694, 14.4217, 14.8604, 14.8939, 14.8839, 14.9535, 15.0066, 11.1502, 11.2053, 9.18146, 8.70403, 7.3647, 7.37385, 7.25004, 7.22095, 7.20904, 7.20304, 8.82144, 8.8316, 12.1821, 13.7882, 14.2873, 14.7078, 14.8132, 14.8191, 14.3176, 15.0169, 15.503, 15.467, 15.5138, 15.4987, 11.6368, 11.7993, 9.82351, 9.32078, 8.04589, 8.07144, 7.91977, 7.91597, 7.91359, 7.91201, 9.51124, 9.50539, 12.7643, 14.523, 14.9914, 15.3837, 15.5033, 15.5484, 15.1149, 15.6132, 15.5596, 15.5035, 15.5433, 15.6899, 11.7726, 11.9181, 9.97554, 9.52097, 8.33763, 8.25707, 8.03353, 8.04116, 7.46656, 7.20848, 8.78107, 8.8925, 12.2298, 13.9442, 14.4826, 14.8648, 14.8811, 14.9318, 14.5495, 15.0059, 14.9503, 14.8721, 14.9324, 14.9288, 11.0298, 11.1859, 9.19631, 8.72625, 7.39614, 7.54204, 7.60565, 7.59601, 7.33994, 7.22492, 9.00678, 9.20277, 12.5174, 13.9041, 14.3439, 14.7774, 14.9531, 15.0459, 14.5295, 14.9997, 15.0338, 15.0521, 15.1021, 15.0973, 11.2247, 11.2996, 9.20799, 8.71795, 7.39812, 7.52763, 7.54777, 7.82941, 7.89829, 7.40585, 7.54009, 7.57784, 8.64315, 10.1671, 10.3862, 12.0057, 12.2377, 12.3023, 11.9905, 11.92, 12.0071, 10.7542, 10.8719, 10.3153, 9.50963, 9.61753, 8.12486, 8.10316, 7.61582, 7.51305, 7.32831, 7.08041, 7.05799, 7.0428, 7.41413, 7.39969, 8.51906, 8.44771, 9.55047, 9.64134, 10.1015, 10.1606, 9.90751, 10.0395, 10.0161, 9.91747, 9.53652, 8.76095, 8.03619, 8.25025, 7.91444, 7.83566, 7.4081, 7.39869, 7.20433, 7.36878, 7.38387, 7.3771, 8.90784, 8.8676, 12.173, 13.8979, 14.4741, 14.9701, 15.1765, 15.356, 14.9835, 15.3873, 15.4147, 15.4253, 15.4618, 15.42, 11.4368, 11.5005, 9.49061, 8.99464, 7.6299, 7.64928, 7.54311, 7.54512, 7.5028, 7.44335, 8.99706, 8.93112, 12.185, 13.8802, 14.5045, 15.0268, 15.3949, 15.8006, 15.2029, 15.4696, 15.5904, 15.6752, 15.7473, 15.5467, 11.3178, 11.2879, 9.23444, 8.80813, 7.52486, 7.44198, 7.28647, 7.28029, 7.24658, 7.24017, 9.01875, 9.21804, 12.5891, 14.3369, 14.9085, 15.6876, 16.0876, 16.3174, 15.5303, 15.8142, 15.539, 15.572, 15.5558, 15.4992, 11.5813, 11.8228, 9.87396, 9.32408, 7.966, 8.03184, 7.95555, 7.90943, 7.87259, 7.92358, 9.66684, 9.92209, 13.2367, 14.9359, 15.5533, 16.2065, 16.5319, 16.6, 16.1408, 16.5702, 16.6716, 16.2359, 15.9566, 15.8191, 11.453, 11.5734, 9.32394, 8.77234, 7.49167, 7.73812, 7.89448, 8.05861, 8.10629, 8.19882, 9.87024, 10.0492, 13.3921, 15.166, 15.7078, 16.1299, 16.493, 16.682, 15.8892, 15.8409, 16.1921, 16.5946, 16.8536, 16.6602, 11.9049, 11.2934, 9.26462, 8.87587, 7.60477, 7.57673, 7.37722, 7.33099, 7.27777, 7.25939, 7.63784, 7.62383, 8.6768, 10.358, 10.6844, 12.2754, 12.411, 12.0955, 11.5159, 11.4841, 11.5484, 10.4267, 10.5487, 10.0499, 9.24059, 9.369, 7.77935, 7.77064, 7.38, 7.38686, 7.23802, 7.04131, 7.04774, 7.04778, 7.42246, 7.5944, 8.76893, 8.77534, 9.74146, 9.60185, 9.58789, 9.68456, 9.51765, 9.3612, 9.36571, 9.35823, 9.05426, 8.45034, 7.921, 8.09807, 7.69108, 7.67726, 7.3827, 7.44574, 7.20951, 7.31588, 7.28496, 7.27577, 8.83584, 8.85264, 12.069, 13.7903, 14.3023, 14.7299, 14.845, 14.9373, 14.511, 14.9307, 14.9822, 15.0422, 15.131, 15.0754, 11.1106, 11.2147, 9.20084, 8.73345, 7.4092, 7.40483, 7.25816, 7.25876, 7.24282, 7.23312, 8.86458, 8.86795, 12.084, 13.8261, 14.356, 14.8036, 15.0368, 15.2018, 14.7045, 15.0749, 15.1018, 15.0777, 15.118, 15.0659, 11.0778, 11.2163, 9.24539, 8.77213, 7.44194, 7.45463, 7.29162, 7.31164, 7.29353, 7.23979, 8.83015, 8.8443, 12.0898, 13.8506, 14.3747, 14.8786, 15.1302, 15.2761, 14.9091, 15.4058, 15.4695, 15.4953, 15.6012, 15.6627, 11.6879, 11.7811, 9.77008, 9.27542, 7.86864, 7.80966, 7.61943, 7.61903, 7.53467, 7.40351, 8.9312, 8.91475, 12.1566, 13.9479, 14.6024, 15.132, 15.3091, 15.4995, 15.0909, 15.4611, 15.3972, 15.2984, 15.3158, 15.3244, 11.2955, 11.3582, 9.34372, 8.86241, 7.53644, 7.79055, 7.88944, 7.77774, 7.76474, 7.33713, 8.89421, 8.90674, 12.1459, 13.8958, 14.4515, 15.0159, 15.2889, 15.5274, 15.1452, 15.5785, 15.5869, 15.4865, 15.5114, 15.4605, 11.3469, 11.4134, 9.42734, 9.01489, 8.27269, 7.8578, 7.44423, 7.40306, 7.54511, 7.70708, 8.04838, 7.8691, 9.02233, 10.8207, 10.955, 12.5404, 12.8277, 12.9442, 12.329, 12.2956, 12.3814, 11.2743, 11.0982, 10.49, 9.71828, 9.90581, 8.28897, 8.1292, 7.70085, 7.69347, 7.5294, 7.34668, 7.33777, 7.29264, 7.61982, 7.58908, 8.55217, 8.48366, 9.58359, 9.7255, 10.0537, 10.2859, 10.2234, 10.0287, 9.98618, 9.89187, 9.52918, 8.88052, 8.21364, 8.30379, 7.96332, 7.91318, 7.51012, 7.52206, 7.37195, 7.57222, 7.51642, 7.46727, 9.07296, 9.06228, 12.2654, 14.0954, 14.757, 15.316, 15.6421, 15.8743, 15.4502, 15.7668, 15.8102, 15.862, 15.7869, 15.5858, 11.5427, 11.6339, 9.74631, 9.28638, 7.97808, 7.98499, 7.7765, 7.69165, 7.63056, 7.60693, 9.23315, 9.26877, 12.5103, 14.2904, 14.8972, 15.4513, 15.8676, 16.1509, 15.7248, 16.2189, 16.3274, 16.4042, 16.9337, 17.8764, 13.5388, 13.2523, 11.0974, 10.7201, 9.42446, 9.36407, 9.21989, 9.16188, 8.83903, 8.62016, 10.1807, 10.173, 13.2065, 14.7492, 15.3293, 16.0983, 16.6989, 16.9771, 16.6859, 16.9831, 16.3213, 16.161, 16.1018, 15.9166, 11.7775, 11.5695, 9.45064, 8.93315, 7.61623, 7.62415, 7.44944, 7.42687, 7.38708, 7.39643, 9.0796, 9.22614, 12.5982, 14.3141, 14.8541, 15.6285, 15.9262, 16.0749, 15.8954, 15.9524, 15.9891, 15.9323, 15.9409, 15.9393, 11.6901, 11.623, 9.57272, 9.03537, 7.64592, 7.66754, 7.5563, 7.524, 7.4714, 7.39993, 9.02194, 9.00427, 12.1628, 14.0574, 14.695, 15.2256, 15.5742, 15.8974, 15.3486, 15.6899, 15.837, 15.7564, 15.7035, 15.6886, 11.5385, 11.5798, 9.61862, 9.12346, 7.79193, 7.80164, 7.713, 7.70516, 7.60794, 7.54463, 7.89281, 7.84782, 8.77448, 10.5012, 10.8239, 12.4466, 12.6751, 12.7563, 12.418, 12.4081, 12.4823, 11.3619, 11.3137, 10.7234, 9.94224, 9.88667, 8.29921, 8.40256, 8.05358, 8.0458, 7.8832, 7.64588, 7.63128, 7.56364, 7.90705, 7.90032, 8.7466, 8.83284, 10.0526, 10.1331, 10.2871, 10.2746, 10.2205, 10.1632, 10.1829, 10.1152, 9.80062, 9.28776, 8.62213, 8.57866, 8.22312, 8.23746, 7.82178, 7.75909, 7.55665, 7.73628, 7.7093, 7.73004, 9.3775, 9.39162, 12.5291, 14.3395, 14.9911, 15.5911, 15.7754, 15.7696, 15.2455, 15.5973, 15.5993, 15.6425, 15.6905, 15.5968, 11.5785, 11.6384, 9.69054, 9.18935, 7.83548, 7.84915, 7.7298, 7.7233, 7.68323, 7.61486, 9.21328, 9.25791, 12.4316, 14.223, 14.8226, 15.4409, 15.6729, 15.8704, 15.4544, 15.8385, 15.9324, 15.9287, 15.9313, 15.8095, 11.6266, 11.5752, 9.60024, 9.13254, 7.85, 7.9249, 7.77159, 7.71938, 7.69732, 7.63649, 9.12609, 9.08325, 12.2428, 14.1411, 14.8992, 15.6322, 15.9884, 16.1794, 15.7031, 16.1069, 16.1185, 16.0836, 16.0999, 15.9348, 11.6844, 11.7091, 9.72606, 9.15913, 7.81131, 7.85633, 7.73433, 7.76571, 7.75978, 7.71667, 9.31292, 9.33163, 12.4887, 14.2633, 14.7435, 15.1807, 15.4055, 15.7153, 15.3705, 15.766, 15.774, 15.7528, 15.8973, 15.8671, 11.6443, 11.6631, 9.75818, 9.29649, 7.97256, 7.96308, 7.72424, 7.56, 7.41184, 7.33939, 8.92621, 8.93394, 12.1178, 13.9437, 14.4793, 14.937, 15.0375, 15.0505, 14.5373, 14.899, 14.906, 14.947, 15.048, 15.0038, 11.0069, 11.085, 9.16984, 8.71036, 7.38204, 7.38415, 7.24039, 7.23813, 7.2319, 7.27009, 7.65123, 7.61964, 8.55638, 10.2169, 10.409, 11.8324, 11.852, 11.828, 11.4619, 11.3847, 11.3861, 10.3639, 10.4311, 9.92367, 9.19713, 9.27497, 7.76456, 7.76647, 7.38248, 7.3963, 7.24942, 7.04134, 7.03835, 7.02806, 7.38672, 7.38625, 8.33813, 8.35363, 9.38252, 9.3131, 9.41153, 9.43066, 9.41829, 9.3409, 9.38289, 9.41789, 9.09218, 8.4577, 7.79634, 7.89446, 7.58532, 7.58413, 7.20154, 7.21151, 7.0701, 7.2554, 7.23466, 7.2202, 8.80025, 8.81439, 11.9935, 13.8066, 14.324, 14.7876, 14.9699, 15.0166, 14.56, 15.0207, 15.0754, 15.0571, 15.1432, 15.1404, 11.2535, 11.2964, 9.35433, 8.89579, 7.58562, 7.59292, 7.40467, 7.33887, 7.27736, 7.26758, 8.89741, 8.91798, 12.101, 13.9268, 14.55, 15.1458, 15.325, 15.355, 15.0599, 15.5412, 15.4906, 15.4918, 15.5446, 15.4437, 11.3683, 11.3815, 9.42729, 8.9414, 7.59125, 7.59279, 7.45518, 7.44737, 7.4438, 7.43171, 9.0563, 9.13072, 12.3039, 14.1465, 14.7217, 15.1652, 15.3038, 15.4095, 14.9886, 15.3728, 15.4189, 15.469, 15.4827, 15.4114, 11.4292, 11.4818, 9.53319, 9.0719, 7.7465, 7.74642, 7.55374, 7.50823, 7.5131, 7.53694, 9.13721, 9.1852, 12.3486, 14.2682, 14.8698, 15.382, 15.5105, 15.5108, 15.0681, 15.5414, 15.5083, 15.3661, 15.4417, 15.4793, 11.4632, 11.545, 9.62935, 9.15501, 7.79601, 7.71217, 7.519, 7.50441, 7.46403, 7.45734, 9.1151, 9.16412, 12.3012, 14.2035, 14.7686, 15.2437, 15.3754, 15.4905, 15.1004, 15.3953, 15.3524, 15.361, 15.3659, 15.287, 11.3441, 11.4159, 9.49823, 9.0362, 7.67324, 7.64071, 7.45848, 7.38727, 7.31442, 7.30967, 7.71711, 7.75306, 8.68013, 10.4583, 10.7661, 12.2614, 12.3463, 12.3083, 11.8962, 11.8903, 11.8813, 10.7494, 10.8172, 10.298, 9.48285, 9.42835, 7.93369, 7.92606, 7.56416, 7.59658, 7.45256, 7.26251, 7.22233, 7.1891, 7.58147, 7.59173, 8.50496, 8.64465, 9.68727, 9.59402, 9.68471, 9.74779, 9.76506, 9.68803, 9.66754, 9.67001, 9.39663, 8.78856, 8.1383, 8.15109, 7.88602, 7.8994, 7.54088, 7.58538, 7.47172, 7.72092, 7.76148, 7.78103, 9.36505, 9.34435, 12.476, 14.463, 15.0987, 15.6044, 15.8113, 15.9531, 15.6298, 16.0988, 16.1212, 16.1381, 16.1846, 16.1251, 12.0547, 11.8679, 9.87211, 9.3032, 7.87709, 7.82471, 7.6462, 7.61824, 7.5859, 7.5764, 9.18535, 9.1572, 12.2843, 14.2659, 14.9509, 15.5717, 15.7847, 15.8615, 15.4271, 15.8945, 16.0005, 16.0782, 16.0759, 15.8971, 11.734, 11.6555, 9.69875, 9.14733, 7.78703, 7.76741, 7.56798, 7.5301, 7.51952, 7.53668, 9.15808, 9.23062, 12.4065, 14.2816, 14.8264, 15.3021, 15.493, 15.6623, 15.1937, 15.5937, 15.6992, 15.6463, 15.635, 15.5229, 11.4577, 11.478, 9.58498, 9.0865, 7.72813, 7.70439, 7.54845, 7.54652, 7.54614, 7.52513, 9.0877, 9.12287, 12.2942, 14.177, 14.6735, 15.0865, 15.302, 15.501, 15.1089, 15.5055, 15.5475, 15.6343, 15.6787, 15.5432, 11.4193, 11.369, 9.46121, 8.98017, 7.67353, 7.68883, 7.54326, 7.54399, 7.54391, 7.54398, 9.13128, 9.09362, 12.2076, 14.0777, 14.6699, 15.2017, 15.4032, 15.5485, 15.1223, 15.5112, 15.493, 15.4937, 15.5627, 15.4741, 11.3761, 11.2999, 9.35795, 8.85414, 7.54926, 7.59358, 7.47749, 7.46782, 7.40984, 7.38183, 7.80352, 7.81379, 8.71474, 10.4339, 10.5746, 12.0714, 12.2631, 12.3445, 12.1096, 12.0775, 12.0715, 10.9957, 10.9829, 10.4211, 9.64844, 9.58791, 8.02646, 7.97364, 7.57458, 7.56962, 7.40295, 7.19971, 7.21939, 7.26704, 7.67013, 7.6307, 8.47928, 8.55982, 9.60315, 9.60763, 9.75684, 9.81837, 9.92775, 9.96104, 9.99569, 9.99788, 9.66463, 8.98524, 8.30766, 8.2879, 7.98448, 7.94285, 7.54642, 7.55634, 7.38672, 7.51747, 7.44445, 7.42939, 9.05163, 9.071, 12.164, 14.0522, 14.6223, 15.1155, 15.311, 15.3929, 14.9664, 15.4324, 15.5053, 15.5286, 15.6075, 15.6132, 11.5849, 11.5029, 9.60419, 9.13112, 7.77646, 7.75422, 7.60551, 7.55044, 7.48619, 7.4889, 9.08231, 9.07131, 12.2181, 14.2105, 14.9128, 15.4132, 15.5582, 15.6597, 15.2672, 15.6641, 15.7453, 15.8407, 15.8706, 15.7691, 11.6281, 11.6123, 9.68454, 9.18811, 7.91254, 7.90686, 7.71053, 7.63755, 7.58285, 7.55959, 9.10969, 9.10133, 12.2603, 14.2906, 14.9897, 15.5292, 15.8094, 15.9923, 15.6087, 16.0691, 16.1122, 16.2163, 16.3913, 16.3972, 12.0941, 11.8581, 9.89588, 9.37784, 8.0074, 7.96926, 7.79767, 7.77289, 7.77097, 7.79682, 9.34979, 9.33832, 12.5027, 14.5079, 15.2932, 15.8804, 16.1263, 16.3403, 15.9343, 16.3525, 16.3923, 16.4416, 16.5358, 16.4869, 12.3387, 12.157, 10.1034, 9.58788, 8.24834, 8.225, 8.0161, 7.98168, 7.98923, 7.97824, 9.5836, 9.54717, 12.7529, 14.6875, 15.4409, 16.1034, 16.31, 16.3836, 15.922, 16.3612, 16.4446, 16.5197, 16.6215, 16.6172, 12.4226, 12.3865, 10.286, 9.6869, 8.30835, 8.25264, 8.02658, 8.00095, 8.03497, 8.04833, 8.45328, 8.44933, 9.4428, 11.1478, 11.2799, 12.7546, 12.9511, 13.0139, 12.6169, 12.6265, 12.7592, 11.6403, 11.6301, 11.1276, 10.3887, 10.3282, 8.69994, 8.69943, 8.32367, 8.29881, 8.13496, 7.88753, 7.77974, 7.73815, 8.15173, 8.09501, 9.03858, 9.12432, 10.2224, 10.3764, 10.5996, 10.6506, 10.6503, 10.4851, 10.4904, 10.4754, 10.1707, 9.50156, 8.91243, 8.7789, 8.32932, 8.28271, 7.88628, 7.87, 7.6898, 7.91497, 7.9562, 7.9654, 9.55993, 9.51587, 12.6535, 14.4363, 15.0046, 15.6411, 15.8673, 15.9438, 15.5271, 15.9828, 16.0438, 16.0432, 15.9577, 15.7278, 11.6401, 11.6009, 9.76272, 9.30128, 7.94887, 7.97855, 7.85881, 7.8622, 7.86359, 7.83615, 9.4288, 9.3428, 12.4799, 14.3639, 14.9503, 15.5431, 15.8096, 15.9006, 15.4704, 15.9098, 15.9557, 15.9623, 15.8974, 15.7355, 11.6025, 11.5169, 9.60684, 9.10273, 7.7457, 7.74626, 7.63891, 7.69767, 7.71269, 7.71627, 9.26772, 9.17087, 12.3562, 14.2284, 14.7827, 15.2455, 15.3761, 15.487, 15.1247, 15.6087, 15.7344, 15.9232, 16.091, 15.9704, 11.7285, 11.6217, 9.66076, 9.14723, 7.78916, 7.79406, 7.61847, 7.55541, 7.5622, 7.59042, 9.21579, 9.21857, 12.44, 14.3434, 14.8985, 15.3097, 15.4702, 15.5686, 15.0777, 15.6536, 15.8925, 15.8253, 15.8145, 15.7, 11.4529, 11.3647, 9.45969, 8.95466, 7.58743, 7.54492, 7.36335, 7.30587, 7.27283, 7.26883, 8.89254, 8.84683, 12.0297, 13.9263, 14.4508, 14.7993, 14.9235, 15.0024, 14.495, 14.9895, 15.048, 15.0652, 15.1215, 15.0802, 11.083, 11.0031, 9.19905, 8.75254, 7.48443, 7.45442, 7.26477, 7.26688, 7.25412, 7.25649, 7.63997, 7.56946, 8.50761, 10.2296, 10.3814, 11.8302, 11.9454, 12.0826, 11.8346, 11.8041, 11.8518, 10.7895, 10.8365, 10.2865, 9.51626, 9.40253, 7.90884, 7.86287, 7.47542, 7.47366, 7.29107, 7.08201, 7.07511, 7.06697, 7.44904, 7.36925, 8.31047, 8.42501, 9.49203, 9.56351, 9.79264, 9.89878, 9.92696, 9.90988, 9.9917, 10.0305, 9.75165, 9.12097, 8.43483, 8.32501, 8.01616, 7.93455, 7.51294, 7.47629, 7.29678, 7.48755, 7.51581, 7.47782, 8.98208, 8.87853, 12.0256, 13.9802, 14.6702, 15.2783, 15.6718, 15.9124, 15.4421, 15.7751, 15.8406, 15.9487, 16.1134, 16.1191, 12.0303, 11.8498, 9.92682, 9.36986, 8.00681, 8.03868, 7.92409, 7.9326, 7.93415, 7.93446, 9.51104, 9.4246, 12.6169, 14.503, 15.1019, 15.7134, 16.0383, 16.1987, 15.7168, 16.1361, 16.1845, 16.229, 16.3336, 16.3557, 12.1523, 11.8754, 9.91544, 9.35207, 8.00684, 7.96958, 7.717, 7.71043, 7.76157, 7.74922, 9.33869, 9.32074, 12.5462, 14.4073, 14.9405, 15.44, 15.6314, 15.7875, 15.404, 15.9154, 16.0645, 16.1899, 16.3184, 16.2613, 11.9679, 11.7219, 9.79685, 9.25344, 7.88509, 7.88573, 7.73593, 7.71067, 7.67746, 7.66898, 9.25991, 9.22142, 12.4545, 14.3713, 14.9292, 15.4032, 15.5192, 15.5219, 15.0599, 15.5463, 15.6171, 15.6648, 15.7186, 15.6573, 11.5189, 11.3838, 9.53778, 9.08834, 7.7723, 7.78766, 7.64297, 7.60785, 7.58361, 7.57638, 9.20033, 9.15511, 12.3844, 14.3209, 14.8892, 15.3442, 15.5376, 15.719, 15.3479, 15.7581, 15.8151, 15.8505, 15.9604, 15.9546, 11.7833, 11.7001, 9.85194, 9.31222, 7.92405, 7.91779, 7.74773, 7.68151, 7.67024, 7.62062, 7.90356, 7.88016, 8.95274, 10.7241, 10.9674, 12.492, 12.6668, 12.83, 12.5662, 12.546, 12.6008, 11.5442, 11.5031, 10.9962, 10.2944, 10.2082, 8.73911, 8.65763, 8.20107, 8.22498, 8.11823, 7.94526, 7.95108, 7.93812, 8.35681, 8.26264, 9.20087, 9.48, 10.5745, 10.6089, 10.7812, 10.8514, 10.7824, 10.6417, 10.5665, 10.5192, 10.1744, 9.53015, 8.85502, 8.8029, 8.58476, 8.58155, 8.21561, 8.19178, 8.06497, 8.0771, 8.03562, 8.0165, 8.36316, 8.29109, 9.34482, 9.55867, 10.6487, 10.5831, 10.7447, 10.8085, 10.8798, 10.9122, 10.9872, 10.915, 10.4934, 9.81306, 9.08926, 8.91408, 8.67588, 8.77411, 8.43352, 8.49691, 8.38387, 8.65296, 8.71688, 8.72206, 10.3123, 10.1934, 13.2742, 15.2567, 15.86, 16.3408, 16.5083, 16.5465, 16.0489, 16.4404, 16.4556, 16.465, 16.5424, 16.5095, 12.4818, 12.4154, 10.6284, 10.1372, 8.80811, 8.82619, 8.73325, 8.75768, 8.73844, 8.6867, 10.2146, 10.0816, 13.2614, 15.2637, 15.8823, 16.2996, 16.4052, 16.4555, 15.9921, 16.4376, 16.4802, 16.5171, 16.6439, 16.5953, 12.3992, 12.2706, 10.1789, 9.54029, 8.12401, 8.07405, 7.88154, 7.81588, 7.74572, 7.6907, 9.23403, 9.15978, 12.3587, 14.2316, 14.7377, 15.168, 15.4147, 15.5939, 15.1349, 15.5884, 15.7007, 15.7177, 15.7714, 15.7247, 11.4999, 11.3476, 9.49062, 9.01949, 7.73059, 7.74596, 7.52371, 7.47505, 7.4636, 7.42972, 9.04489, 8.96155, 12.0947, 14.0684, 14.7951, 15.3831, 15.6341, 15.7603, 15.2683, 15.6984, 15.8013, 15.7872, 15.8425, 15.8269, 11.653, 11.5389, 9.67271, 9.14792, 7.81357, 7.82078, 7.67264, 7.63838, 7.61072, 7.58701, 7.99623, 8.00668, 8.96445, 10.7058, 10.9637, 12.5539, 12.7232, 12.7732, 12.4409, 12.3652, 12.3331, 11.2524, 11.3631, 10.807, 9.93606, 9.78655, 8.33058, 8.3385, 7.93517, 7.91995, 7.81363, 7.65024, 7.63679, 7.60563, 7.98097, 7.94455, 8.894, 8.95291, 9.97457, 9.90317, 10.0092, 10.0755, 10.138, 10.1969, 10.3101, 10.3098, 9.93458, 9.23888, 8.52069, 8.38959, 8.09778, 8.02201, 7.61687, 7.62465, 7.47234, 7.63934, 7.62735, 7.67939, 9.31269, 9.27861, 12.453, 14.3298, 14.8248, 15.2148, 15.3577, 15.4321, 14.9747, 15.3761, 15.4621, 15.6251, 15.7617, 15.7104, 11.6852, 11.5747, 9.69414, 9.13112, 7.77459, 7.77691, 7.58797, 7.57641, 7.52873, 7.46097, 9.1082, 9.15393, 12.3878, 14.3179, 14.901, 15.3471, 15.5024, 15.6054, 15.1926, 15.7588, 15.9645, 16.0511, 16.1254, 16.0335, 11.8252, 11.7304, 9.92441, 9.42145, 8.10405, 8.14488, 7.95086, 7.91349, 7.87879, 7.82022, 9.42053, 9.37849, 12.548, 14.43, 14.9659, 15.4946, 15.8031, 16.0095, 15.6534, 16.1351, 16.2216, 16.2996, 16.4127, 16.4135, 12.2136, 11.9774, 10.0098, 9.41576, 8.02914, 8.01177, 7.88911, 7.9105, 7.84485, 7.80226, 9.3853, 9.37288, 12.6281, 14.5476, 15.0909, 15.5257, 15.7158, 15.8448, 15.4412, 15.8244, 15.8248, 15.836, 15.8564, 15.8256, 11.6463, 11.4654, 9.61684, 9.13924, 7.82786, 7.86315, 7.71662, 7.74607, 7.75283, 7.75493, 9.38281, 9.31052, 12.5095, 14.4514, 15.0101, 15.4959, 15.6763, 15.7731, 15.4023, 15.9535, 16.0836, 16.0566, 16.0435, 16.0004, 11.7343, 11.5847, 9.72041, 9.20676, 7.85195, 7.84604, 7.69785, 7.67798, 7.61316, 7.51145, 7.87484, 7.91179, 8.9689, 10.7265, 10.8942, 12.3523, 12.4975, 12.6542, 12.4756, 12.4963, 12.4517, 11.2655, 11.3652, 10.8767, 10.096, 9.92697, 8.36874, 8.29794, 7.95163, 8.0013, 7.89109, 7.71657, 7.69454, 7.68906, 8.08937, 8.00012, 8.93829, 9.02195, 10.0105, 10.014, 10.2038, 10.3259, 10.3901, 10.3995, 10.3662, 10.3543, 10.0147, 9.32426, 8.62948, 8.49685, 8.22039, 8.1732, 7.78016, 7.79143, 7.63823, 7.88711, 7.92752, 7.93661, 9.54625, 9.51946, 12.6962, 14.5709, 15.1005, 15.5403, 15.6644, 15.7169, 15.3576, 15.8732, 15.9349, 15.9861, 16.1063, 16.0925, 11.9845, 11.7998, 9.92697, 9.4303, 8.08015, 8.08661, 7.93792, 7.98481, 8.00895, 7.98444, 9.60643, 9.55515, 12.7598, 14.6876, 15.2764, 15.7929, 16.0052, 16.1426, 15.7898, 16.2721, 16.3192, 16.3368, 16.406, 16.3724, 12.1786, 11.8607, 10.0678, 9.59216, 8.2507, 8.23921, 8.08695, 8.05934, 8.02593, 8.01963, 9.61108, 9.55258, 12.7267, 14.6056, 15.1375, 15.5982, 15.8499, 16.1109, 15.8564, 16.3219, 16.3111, 16.271, 16.2317, 15.9826, 11.7816, 11.6454, 9.9358, 9.50485, 8.21421, 8.20158, 8.02136, 8.01614, 8.01443, 8.01394, 9.63642, 9.63708, 12.8478, 14.7626, 15.4322, 16.0186, 16.2126, 16.3192, 15.9055, 16.3334, 16.3751, 16.4346, 16.5609, 16.586, 12.4123, 12.2679, 10.2922, 9.72681, 8.41631, 8.45971, 8.34084, 8.33039, 8.32707, 8.27409, 9.84184, 9.7652, 13.0086, 14.9323, 15.4688, 15.9739, 16.2925, 16.4578, 16.0666, 16.5708, 16.6747, 16.7382, 16.8628, 16.8477, 12.4166, 12.2987, 10.4553, 9.89142, 8.53804, 8.52059, 8.29952, 8.28452, 8.31564, 8.31943, 8.70843, 8.64724, 9.6078, 11.338, 11.5007, 13.0801, 13.3088, 13.3683, 13.0013, 12.9211, 12.9221, 11.8016, 11.8826, 11.3677, 10.6098, 10.39, 8.7642, 8.54829, 8.09406, 8.09129, 7.96751, 7.80415, 7.83921, 7.84683, 8.26811, 8.2385, 9.20934, 9.37875, 10.4622, 10.4707, 10.618, 10.6667, 10.6668, 10.5673, 10.5708, 10.575, 10.1875, 9.42008, 8.66682, 8.51783, 8.36585, 8.3554, 7.97634, 7.97947, 7.7618, 7.91695, 7.9897, 8.03332, 9.58064, 9.47324, 12.7041, 14.7149, 15.322, 15.8481, 16.0903, 16.2051, 15.7894, 16.2591, 16.2735, 16.2651, 16.3437, 16.3439, 12.3127, 12.0455, 10.1765, 9.6695, 8.33197, 8.31491, 8.15024, 8.14021, 8.07944, 8.03005, 9.64474, 9.59154, 12.7981, 14.7185, 15.3235, 15.8605, 16.1116, 16.3247, 15.9315, 16.3738, 16.4205, 16.4077, 16.4583, 16.4161, 12.305, 11.9876, 10.0849, 9.59694, 8.26888, 8.27955, 8.1314, 8.13289, 8.08688, 8.03376, 9.58752, 9.51238, 12.7383, 14.749, 15.4036, 15.8782, 16.0611, 16.2976, 15.9441, 16.3755, 16.4481, 16.5278, 16.6132, 16.5126, 12.2993, 11.9438, 10.0749, 9.58562, 8.25246, 8.26068, 8.11359, 8.16557, 8.2223, 8.25872, 9.88163, 9.85334, 13.0809, 14.9989, 15.6109, 16.1882, 16.37, 16.4202, 15.9961, 16.4461, 16.5493, 16.6519, 16.7061, 16.6485, 12.4066, 12.2821, 10.3967, 9.82336, 8.46105, 8.46484, 8.3403, 8.34745, 8.28938, 8.27737, 9.90224, 9.86571, 13.1, 15.0661, 15.6957, 16.19, 16.4083, 16.5821, 16.1112, 16.5151, 16.5012, 16.5389, 16.6652, 16.8204, 12.4747, 12.3167, 10.5769, 10.0221, 8.58391, 8.49986, 8.28623, 8.27592, 8.24385, 8.21173, 8.63854, 8.62507, 9.59378, 11.3249, 11.5183, 13.1121, 13.318, 13.3564, 12.9662, 12.8669, 12.8753, 11.8293, 11.9051, 11.3977, 10.6611, 10.5422, 9.15395, 9.03754, 8.57393, 8.52312, 8.2908, 8.0483, 7.97995, 7.93659, 8.31618, 8.31451, 9.3279, 9.44353, 10.487, 10.4581, 10.6393, 10.695, 10.6697, 10.5738, 10.5845, 10.5629, 10.2302, 9.66339, 9.00222, 8.8455, 8.64627, 8.53969, 8.07881, 8.05919, 7.90568, 8.12113, 8.10696, 8.11746, 9.72914, 9.67512, 12.846, 14.7253, 15.2944, 15.7876, 16.0098, 16.2203, 15.8398, 16.2863, 16.2897, 16.273, 16.3431, 16.3361, 12.3572, 12.0566, 10.1602, 9.60552, 8.20647, 8.15611, 7.95166, 7.94009, 7.96665, 8.04911, 9.73971, 9.70262, 12.9141, 14.8342, 15.4802, 16.1205, 16.3233, 16.3815, 15.9104, 16.3275, 16.3826, 16.4076, 16.4685, 16.408, 12.2457, 11.9598, 10.151, 9.66004, 8.36637, 8.41608, 8.245, 8.21656, 8.1785, 8.14043, 9.72549, 9.63857, 12.9083, 15.001, 15.7536, 16.3065, 16.4969, 16.5881, 16.1047, 16.542, 16.6053, 16.6029, 16.679, 16.6611, 12.4334, 12.2701, 10.544, 9.97921, 8.52643, 8.41719, 8.18731, 8.15109, 8.13674, 8.10966, 9.68583, 9.70564, 13.0513, 15.1428, 15.8557, 16.3257, 16.4394, 16.4678, 15.9892, 16.3946, 16.4557, 16.5085, 16.5926, 16.5771, 12.2567, 11.9756, 10.0673, 9.46904, 8.08138, 8.14869, 8.01714, 7.97928, 7.92096, 7.86015, 9.44028, 9.31685, 12.5495, 14.6797, 15.4555, 16.0108, 16.2147, 16.3342, 15.9817, 16.4907, 16.571, 16.5705, 16.6603, 16.6676, 12.3942, 12.2575, 10.4463, 9.96138, 8.62141, 8.6016, 8.43583, 8.38105, 8.29545, 8.22572, 8.54566, 8.4021, 9.28515, 10.9492, 11.0474, 12.5259, 12.7679, 12.8767, 12.5213, 12.4427, 12.4875, 11.411, 11.4917, 10.9521, 10.1427, 9.94307, 8.51966, 8.48172, 8.04476, 8.01778, 7.86124, 7.64218, 7.61372, 7.60639, 7.99263, 7.93003, 8.87315, 8.98075, 10.0432, 10.0458, 10.234, 10.3547, 10.4089, 10.3639, 10.3965, 10.3906, 10.0854, 9.50371, 8.87674, 8.7499, 8.55962, 8.49407, 8.09859, 8.08401, 7.86574, 8.03729, 7.97857, 7.94551, 9.54572, 9.48641, 12.6928, 14.6832, 15.3463, 15.8837, 16.1377, 16.2378, 15.7842, 16.2442, 16.3409, 16.4134, 16.5414, 16.578, 12.4246, 12.2653, 10.3604, 9.78714, 8.46613, 8.51237, 8.23705, 7.88799, 7.85749, 7.82188, 8.20246, 8.13925, 9.16224, 9.34207, 10.3893, 10.3629, 10.4763, 10.5201, 10.5724, 10.5375, 10.576, 10.6219, 10.3443, 9.72552, 9.05435, 8.90328, 8.69024, 8.58282, 8.16038, 8.15052, 7.9712, 8.16577, 8.16422, 8.16484, 9.7993, 9.77562, 13.0044, 14.926, 15.4597, 15.9221, 16.0824, 16.1938, 15.8129, 16.2691, 16.2972, 16.2854, 16.3808, 16.382, 12.2668, 11.9698, 10.1075, 9.61909, 8.27288, 8.2795, 8.16452, 8.18966, 8.19401, 8.19483, 9.78762, 9.79833, 13.0902, 15.011, 15.5354, 15.9534, 16.0924, 16.213, 15.8497, 16.3163, 16.3694, 16.4055, 16.4982, 16.519, 12.3939, 12.2715, 10.3898, 9.79636, 8.46604, 8.48485, 8.35473, 8.43704, 8.45041, 8.4213, 10.043, 10.0163, 13.2984, 15.2507, 15.8192, 16.2826, 16.412, 16.4518, 16.0388, 16.5001, 16.5343, 16.5592, 16.6519, 16.7898, 12.4614, 12.3218, 10.5604, 9.97118, 8.56277, 8.5424, 8.41521, 8.46503, 8.51243, 8.56056, 8.98905, 8.89331, 9.85015, 11.6149, 11.7929, 13.2557, 13.3584, 13.378, 13.0009, 12.9292, 12.9368, 11.8181, 11.8086, 11.229, 10.4302, 10.4104, 9.02396, 8.9633, 8.57857, 8.60337, 8.40512, 8.09229, 8.04711, 8.07419, 8.50187, 8.43593, 9.44583, 9.73023, 10.8184, 10.8057, 10.928, 10.8637, 10.8496, 10.7651, 10.7514, 10.7332, 10.3974, 9.69218, 9.01535, 8.92727, 8.84202, 8.80201, 8.27618, 8.26694, 8.18844, 8.37422, 8.34945, 8.35313, 9.94185, 9.8523, 13.0734, 15.1513, 15.6807, 16.1874, 16.4985, 16.6155, 16.0928, 16.474, 16.5096, 16.5211, 16.5857, 16.62, 12.4989, 12.2751, 10.4174, 9.97614, 8.73402, 8.81299, 8.6865, 8.63169, 8.62344, 8.65794, 10.2087, 10.1227, 13.4161, 15.4073, 15.9878, 16.4812, 16.6379, 16.6895, 16.2294, 16.6427, 16.6813, 16.6794, 16.7321, 16.7731, 12.4602, 12.3115, 10.4491, 9.88114, 8.55785, 8.71786, 8.65194, 8.6078, 8.54506, 8.5387, 10.127, 10.1046, 13.4236, 15.4293, 16.0032, 16.4491, 16.6326, 16.7293, 16.3093, 16.7666, 16.8146, 16.7717, 16.7811, 16.747, 12.4483, 12.3465, 10.4885, 9.88363, 8.56645, 8.64541, 8.52432, 8.4918, 8.39592, 8.27069, 9.85683, 9.90586, 13.2751, 15.3083, 15.87, 16.3366, 16.483, 16.5511, 16.1056, 16.5738, 16.8322, 16.9399, 17.0033, 16.9036, 12.365, 12.073, 10.1049, 9.59088, 8.26613, 8.29216, 8.18273, 8.1887, 8.15683, 8.15079, 9.81312, 9.79093, 13.049, 14.9948, 15.5041, 15.9831, 16.2438, 16.4057, 15.971, 16.417, 16.4641, 16.5091, 16.672, 16.7406, 12.3812, 12.1878, 10.2706, 9.66282, 8.31957, 8.35817, 8.22658, 8.23147, 8.2055, 8.1774, 8.5609, 8.49733, 9.44032, 11.1363, 11.2586, 12.6916, 12.8347, 12.9404, 12.6469, 12.6643, 12.7088, 11.6045, 11.6694, 11.1708, 10.4789, 10.4541, 9.01107, 8.88095, 8.43758, 8.43919, 8.28912, 8.09208, 8.09255, 8.09288, 8.48037, 8.41849, 9.36222, 9.44685, 10.4469, 10.4002, 10.5377, 10.5475, 10.5482, 10.5035, 10.5441, 10.5723, 10.3159, 9.74544, 9.14027, 9.07197, 8.84177, 8.74767, 8.32931, 8.33231, 8.18668, 8.37633, 8.37878, 8.32878, 9.82771, 9.79182, 13.0428, 14.9743, 15.5404, 16.124, 16.3364, 16.4058, 15.9404, 16.3755, 16.4021, 16.4386, 16.5852, 16.7163, 12.4816, 12.3361, 10.6357, 10.1318, 8.66753, 8.61167, 8.46505, 8.38696, 8.3327, 8.28069, 9.9251, 9.83695, 13.0122, 15.0282, 15.6854, 16.1996, 16.3669, 16.4145, 15.9749, 16.4983, 16.5822, 16.6369, 16.7841, 16.8161, 12.4488, 12.3786, 10.5723, 10.0584, 8.69801, 8.67834, 8.49833, 8.45613, 8.39023, 8.32022, 9.87514, 9.87322, 13.1852, 15.1815, 15.8117, 16.302, 16.4355, 16.5538, 16.2212, 16.7163, 16.8342, 16.9649, 17.1316, 17.1695, 12.4776, 12.4162, 10.6299, 10.1513, 8.80932, 8.81634, 8.64027, 8.63004, 8.56607, 8.50206, 10.159, 10.2284, 13.4844, 15.4251, 15.9395, 16.3934, 16.5593, 16.7121, 16.2967, 16.7466, 16.8464, 16.9761, 17.162, 17.1746, 12.5508, 12.4327, 10.6264, 10.1589, 8.82332, 8.82664, 8.68343, 8.67413, 8.61568, 8.54861, 10.1512, 10.1703, 13.4128, 15.4159, 15.9466, 16.4906, 16.8158, 16.7584, 16.3104, 16.7342, 16.7289, 16.7323, 16.88, 17.0752, 12.4224, 12.3915, 10.5858, 10.0058, 8.59962, 8.57937, 8.42662, 8.40606, 8.39072, 8.38536, 8.79592, 8.84463, 9.7468, 11.5019, 11.7284, 13.2538, 13.383, 13.4116, 13.0206, 12.8959, 12.873, 11.7087, 11.7316, 11.2483, 10.569, 10.5894, 9.11591, 9.07249, 8.6448, 8.64068, 8.47025, 8.24746, 8.25757, 8.23533, 8.61174, 8.5837, 9.4583, 9.67542, 10.7663, 10.7171, 10.8432, 10.8971, 10.9095, 10.8552, 10.8957, 10.9008, 10.5919, 9.88334, 9.12341, 9.06171, 8.94492, 8.97726, 8.58115, 8.55008, 8.34442, 8.47213, 8.41402, 8.42091, 10.0192, 10.1113, 13.3595, 15.3437, 15.8881, 16.3312, 16.5058, 16.5997, 16.1216, 16.521, 16.5658, 16.6273, 16.7183, 16.6822, 12.4904, 12.409, 10.6338, 10.1632, 8.81331, 8.77028, 8.49243, 8.39807, 8.43535, 8.49856, 10.1698, 10.2193, 13.4124, 15.3418, 15.8898, 16.3401, 16.5492, 16.6965, 16.2253, 16.5593, 16.5569, 16.5642, 16.6496, 16.6756, 12.5033, 12.4802, 10.6607, 10.1687, 8.81154, 8.81806, 8.60046, 8.52934, 8.47508, 8.43849, 10.0633, 10.1181, 13.3229, 15.3188, 15.9073, 16.3379, 16.5125, 16.6344, 16.1971, 16.6033, 16.6451, 16.6462, 16.7504, 16.834, 12.4853, 12.4251, 10.6321, 10.1249, 8.70422, 8.65232, 8.46546, 8.4445, 8.44431, 8.43756, 10.0372, 10.1445, 13.4429, 15.4102, 15.9311, 16.4003, 16.6291, 16.7506, 16.2024, 16.6163, 16.6409, 16.7274, 17.0711, 17.0706, 12.4752, 12.4077, 10.6217, 10.1639, 8.86076, 8.87812, 8.71378, 8.69084, 8.68538, 8.62893, 10.1724, 10.2923, 13.5631, 15.4959, 16.1337, 16.7156, 16.8703, 16.842, 16.2368, 16.5534, 16.5274, 16.5135, 16.6067, 16.6299, 12.4655, 12.3318, 10.4984, 9.99443, 8.66464, 8.68697, 8.57732, 8.65626, 8.76324, 8.76342, 9.13087, 9.16119, 10.0549, 11.7717, 11.8897, 13.3187, 13.5146, 13.6119, 13.2078, 13.0914, 13.0828, 11.962, 12.0348, 11.5305, 10.7865, 10.7286, 9.28926, 9.22523, 8.79616, 8.86817, 8.7225, 8.50074, 8.49334, 8.49167, 8.87972, 8.87898, 9.77521, 9.88291, 10.9119, 10.8089, 10.8577, 10.8948, 10.8789, 10.7644, 10.7322, 10.7217, 10.4168, 9.78637, 9.11737, 9.07093, 8.90226, 8.89899, 8.4894, 8.4613, 8.29649, 8.46694, 8.45292, 8.50348, 10.1621, 10.1958, 13.3284, 15.2774, 15.8152, 16.262, 16.3933, 16.4496, 16.0062, 16.4339, 16.4837, 16.5117, 16.5903, 16.6023, 12.5168, 12.4875, 10.6416, 10.1292, 8.66766, 8.54121, 8.31796, 8.26324, 8.23401, 8.18755, 9.76487, 9.71649, 12.8337, 14.9315, 15.6642, 16.1691, 16.4517, 16.5864, 16.1448, 16.5389, 16.5566, 16.5707, 16.642, 16.6001, 12.3446, 12.1835, 10.2456, 9.61125, 8.21701, 8.31287, 8.17324, 8.12437, 8.14717, 8.18701, 9.80537, 9.87983, 13.1265, 15.1594, 15.8934, 16.4016, 16.6015, 16.6769, 16.2061, 16.6732, 16.7442, 17.0226, 17.1673, 17.217, 12.4905, 12.4172, 10.6173, 10.1393, 8.81155, 8.79384, 8.55322, 8.55162, 8.63179, 8.67257, 10.2335, 10.2046, 13.3536, 15.2921, 15.8906, 16.4053, 16.5786, 16.6372, 16.1732, 16.6025, 16.6435, 16.7811, 17.059, 16.9256, 12.4043, 12.2619, 10.1704, 9.57979, 8.20524, 8.20459, 8.11333, 8.19905, 8.23099, 8.27473, 9.90666, 9.95412, 13.1476, 15.0372, 15.6023, 16.2126, 16.4617, 16.553, 16.1162, 16.5456, 16.5918, 16.8672, 17.1244, 17.0797, 12.3986, 12.2267, 10.176, 9.57524, 8.20525, 8.20464, 8.05448, 8.05534, 8.05509, 8.05494, 8.44321, 8.47469, 9.39287, 11.1389, 11.3112, 12.7722, 12.9433, 13.1099, 12.8972, 12.8473, 12.8769, 11.7577, 11.7445, 11.078, 10.2587, 10.1203, 8.63301, 8.58753, 8.19137, 8.2013, 8.05428, 7.85885, 7.81678, 7.76482, 8.17836, 8.22071, 9.13136, 9.24107, 10.2974, 10.2813, 10.4584, 10.5737, 10.6407, 10.6148, 10.6283, 10.6146, 10.3471, 9.75353, 9.04127, 8.8283, 8.52865, 8.53491, 8.14905, 8.19117, 8.05763, 8.30987, 8.35778, 8.31597, 9.89533, 9.91023, 13.084, 15.1558, 15.8303, 16.3054, 16.4859, 16.593, 16.1406, 16.5927, 16.6671, 16.6533, 16.6954, 16.6583, 12.5516, 12.4843, 10.6173, 10.1332, 8.8881, 8.93105, 8.74964, 8.78622, 8.79538, 8.80161, 10.5196, 10.5655, 13.7631, 15.8351, 16.3878, 16.8586, 17.1638, 17.3775, 17.0167, 17.5007, 17.5639, 17.6606, 17.8169, 17.8683, 12.7989, 12.6566, 10.6712, 10.1233, 8.84836, 8.8988, 8.81761, 8.83787, 8.88413, 8.87796, 10.4488, 10.5055, 13.7896, 16.0531, 16.6299, 17.1629, 17.3708, 17.4867, 17.1517, 17.7082, 17.7929, 17.7874, 17.8327, 17.6447, 12.5217, 12.5331, 10.6207, 10.0822, 8.55499, 8.42913, 8.22312, 8.21355, 8.21164, 8.21174, 9.80408, 9.90779, 13.2341, 15.2386, 15.9374, 16.5521, 16.9291, 17.0343, 16.5836, 17.0386, 17.1195, 17.1836, 17.2143, 17.0529, 12.398, 12.3373, 10.339, 9.72567, 8.2921, 8.28182, 8.12847, 8.12953, 8.16344, 8.19977, 9.90936, 10.053, 13.3511, 15.3547, 15.9653, 16.471, 16.6612, 16.7782, 16.3975, 16.8931, 17.0245, 17.1404, 17.3174, 17.3289, 12.5704, 12.5262, 10.6381, 10.1557, 8.84788, 8.87051, 8.72084, 8.72818, 8.73793, 8.70558, 9.05247, 9.00003, 9.96188, 11.7439, 11.9817, 13.5619, 13.7305, 13.7626, 13.3557, 13.2324, 13.2364, 12.0432, 12.1183, 11.6166, 10.8585, 10.8199, 9.29357, 9.2712, 8.81513, 8.73093, 8.54495, 8.33842, 8.33378, 8.33606, 8.84157, 8.93338, 9.91708, 9.96891, 11.0335, 11.0433, 11.1974, 11.2227, 11.207, 11.1241, 11.1153, 11.0835, 10.7582, 10.1322, 9.46291, 9.40861, 9.07178, 9.03525, 8.64483, 8.66454, 8.49626, 8.70497, 8.71511, 8.67874, 10.2081, 10.2365, 13.4813, 15.4004, 16.0006, 16.5058, 16.6592, 16.7303, 16.3349, 16.7994, 16.8785, 16.965, 17.0011, 17.1255, 12.5709, 12.492, 10.6126, 10.1432, 8.80294, 8.75316, 8.54228, 8.52699, 8.5088, 8.50172, 10.1659, 10.2422, 13.4857, 15.394, 16.0104, 16.5245, 16.7096, 16.8152, 16.4682, 17.0692, 17.2077, 17.2842, 17.4389, 17.4933, 12.6967, 12.6425, 10.7459, 10.2556, 8.92379, 8.90135, 8.76803, 8.76664, 8.75798, 8.74271, 10.299, 10.4352, 13.6666, 15.6554, 16.1548, 16.6821, 17.0279, 17.3059, 16.9512, 17.445, 17.5643, 17.6313, 17.7701, 17.7766, 12.7345, 12.7295, 10.8197, 10.3369, 8.98289, 8.98613, 8.8407, 8.80501, 8.79683, 8.79921, 10.3737, 10.4745, 13.7876, 15.8262, 16.4353, 16.867, 17.1373, 17.3098, 16.9173, 17.3875, 17.5021, 17.4935, 17.5011, 17.5229, 12.6289, 12.5701, 10.6585, 10.1437, 8.82333, 8.80289, 8.5707, 8.52474, 8.47171, 8.51109, 10.203, 10.3278, 13.6167, 15.461, 15.9578, 16.4066, 16.677, 16.9051, 16.5306, 16.9912, 17.0809, 17.161, 17.2603, 17.1341, 12.4387, 12.4266, 10.5455, 9.93122, 8.48781, 8.4351, 8.27582, 8.27529, 8.2747, 8.27445, 8.69542, 8.73162, 9.68551, 11.3488, 11.5066, 13.107, 13.3523, 13.4416, 13.1098, 13.0297, 13.0568, 11.9256, 12.009, 11.48, 10.6714, 10.6898, 9.20224, 9.1652, 8.66673, 8.56982, 8.37117, 8.1905, 8.20194, 8.20555, 8.63874, 8.73573, 9.72195, 9.76102, 10.7807, 10.746, 10.8664, 10.9067, 10.9012, 10.8273, 10.7938, 10.729, 10.423, 9.8305, 9.11478, 9.02617, 8.71388, 8.60822, 8.14668, 8.14535, 7.99482, 8.22796, 8.26667, 8.27361, 9.91224, 10.0093, 13.2782, 15.1431, 15.7217, 16.2224, 16.3876, 16.4089, 15.9553, 16.4011, 16.4307, 16.4892, 16.6223, 16.6204, 12.4366, 12.4407, 10.4955, 9.90968, 8.53955, 8.51924, 8.33347, 8.32104, 8.26512, 8.24168, 9.86194, 9.85381, 13.0702, 14.9627, 15.6272, 16.2486, 16.4146, 16.5196, 16.1265, 16.5611, 16.5845, 16.6278, 16.8935, 16.9538, 12.4552, 12.5121, 10.5922, 9.99801, 8.47095, 8.4114, 8.28631, 8.29168, 8.32405, 8.34808, 9.92047, 9.95887, 13.2267, 15.1936, 15.8965, 16.4209, 16.6017, 16.6331, 16.1947, 16.6645, 16.7, 16.6842, 16.8442, 17.0002, 12.4257, 12.4814, 10.4515, 9.96295, 8.65263, 8.62075, 8.46801, 8.48916, 8.51191, 8.47515, 10.0155, 10.0493, 13.3552, 15.3634, 15.9728, 16.4798, 16.6483, 16.7367, 16.3831, 16.9267, 17.1283, 17.1717, 17.1536, 17.2075, 12.4334, 12.5086, 10.6239, 10.1561, 8.84094, 8.8732, 8.74048, 8.745, 8.73397, 8.73526, 10.3581, 10.3761, 13.5878, 15.4471, 16.062, 16.4802, 16.6543, 16.7628, 16.3138, 16.6987, 16.7406, 16.7892, 16.9056, 16.8943, 12.4256, 12.489, 10.5165, 9.97597, 8.53747, 8.50762, 8.40178, 8.49174, 8.52194, 8.50808, 8.87026, 8.8032, 9.73391, 11.5561, 11.831, 13.3025, 13.398, 13.4387, 13.0472, 12.926, 12.851, 11.6438, 11.6625, 11.1025, 10.3649, 10.4599, 8.89646, 8.86662, 8.42832, 8.37671, 8.21749, 8.09656, 8.1818, 8.24442, 8.69623, 8.68971, 9.6578, 9.72238, 10.7179, 10.7098, 10.9067, 10.9808, 11.0196, 10.9896, 10.9663, 10.8776, 10.4473, 9.73433, 9.04535, 9.0691, 8.68912, 8.61222, 8.17875, 8.18242, 8.00746, 8.17833, 8.2007, 8.25563, 9.88051, 9.90142, 13.1304, 15.0673, 15.7876, 16.3083, 16.4712, 16.5504, 16.0784, 16.4921, 16.5083, 16.6175, 16.8238, 16.8805, 12.4686, 12.5235, 10.5948, 10.014, 8.53895, 8.49784, 8.32464, 8.30408, 8.27582, 8.28434, 9.96713, 10.0246, 13.2288, 15.1185, 15.8116, 16.3327, 16.5541, 16.7059, 16.3081, 16.758, 16.8438, 16.9448, 17.1362, 17.1661, 12.4727, 12.4939, 10.563, 10.0615, 8.71017, 8.69372, 8.49745, 8.44917, 8.41009, 8.32175, 9.88447, 9.9127, 13.1303, 15.1068, 15.8797, 16.4726, 16.8217, 16.8406, 16.3599, 16.8249, 16.827, 16.852, 17.215, 17.2202, 12.4837, 12.5379, 10.6253, 10.1635, 8.74121, 8.53503, 8.32113, 8.31852, 8.27832, 8.26862, 9.83563, 9.81531, 13.035, 15.0808, 15.8858, 16.4234, 16.6115, 16.6812, 16.202, 16.6162, 16.6451, 16.6456, 16.7482, 16.9801, 12.4315, 12.4526, 10.2308, 9.6256, 8.26991, 8.27758, 8.14056, 8.17442, 8.18213, 8.17608, 9.83584, 9.95465, 13.3212, 15.1734, 15.7655, 16.2649, 16.4508, 16.709, 16.4397, 16.9115, 16.9196, 16.9774, 17.2469, 17.3117, 12.4914, 12.5132, 10.6155, 10.1324, 8.76889, 8.69495, 8.53312, 8.58901, 8.64757, 8.6414, 8.97237, 8.94591, 9.97184, 11.6326, 11.8045, 13.2675, 13.3703, 13.4258, 13.085, 13.027, 13.042, 11.8788, 11.8756, 11.2911, 10.5852, 10.8074, 9.28417, 9.26345, 8.86398, 8.86086, 8.67011, 8.35458, 8.26205, 8.16543, 8.51227, 8.52641, 9.5556, 9.5339, 10.5624, 10.471, 10.6049, 10.7036, 10.7232, 10.6644, 10.6611, 10.6338, 10.3301, 9.74458, 9.11169, 9.28235, 8.93687, 8.94146, 8.53895, 8.51052, 8.34097, 8.33307, 8.33713, 8.33875, 8.72788, 8.6989, 9.67371, 9.68876, 10.7455, 10.6814, 10.7074, 10.7061, 10.6471, 10.6039, 10.6301, 10.5648, 10.2255, 9.63887, 9.03757, 9.21442, 8.7571, 8.69277, 8.21619, 8.18665, 8.06916, 8.30712, 8.31385, 8.23443, 9.77485, 9.76784, 13.0682, 14.9082, 15.505, 16.057, 16.2846, 16.3714, 15.9317, 16.3669, 16.4023, 16.4361, 16.5266, 16.5628, 12.4859, 12.5734, 10.5915, 10.1225, 8.76065, 8.71849, 8.54474, 8.53597, 8.56858, 8.66112, 10.3037, 10.2994, 13.4434, 15.279, 15.9017, 16.432, 16.5893, 16.6334, 16.1417, 16.5102, 16.5556, 16.6195, 16.7162, 16.6874, 12.4869, 12.6308, 10.6695, 10.1765, 8.875, 8.89498, 8.71986, 8.73185, 8.75949, 8.75065, 10.3318, 10.3728, 13.6559, 15.4586, 16.0525, 16.5252, 16.7785, 16.8594, 16.3808, 16.8604, 16.9816, 17.0227, 17.0822, 17.0413, 12.5162, 12.6463, 10.5899, 10.0305, 8.67975, 8.69701, 8.53845, 8.53401, 8.55074, 8.67527, 10.3463, 10.4028, 13.6926, 15.497, 16.2304, 16.6841, 16.947, 17.1249, 16.7391, 17.1915, 17.2022, 17.2125, 17.2914, 17.2419, 12.5007, 12.6031, 10.5287, 9.97654, 8.66683, 8.72015, 8.60751, 8.66148, 8.65342, 8.64435, 9.01782, 8.99052, 9.98307, 11.6292, 11.8408, 13.3667, 13.5452, 13.6706, 13.3188, 13.2006, 13.1865, 11.953, 11.9793, 11.4519, 10.6181, 10.6989, 9.07501, 9.02143, 8.65447, 8.65875, 8.5046, 8.28806, 8.33829, 8.36978, 8.81281, 8.879, 9.83449, 9.74003, 10.7243, 10.6431, 10.8036, 10.8714, 10.8256, 10.6673, 10.6201, 10.6117, 10.3341, 9.68726, 9.00229, 9.16936, 8.76824, 8.74509, 8.3917, 8.36487, 8.10597, 8.33044, 8.37088, 8.36943, 9.89963, 9.84211, 13.1322, 15.0513, 15.7839, 16.2844, 16.4646, 16.5207, 16.0538, 16.4726, 16.4953, 16.5113, 16.7087, 16.9044, 12.4477, 12.5583, 10.5735, 10.0201, 8.65731, 8.65471, 8.4586, 8.3612, 8.2889, 8.20013, 9.87877, 10.0562, 13.4255, 15.2274, 15.8253, 16.3113, 16.5332, 16.66, 16.2916, 16.7413, 16.7033, 16.8675, 17.1617, 17.1284, 12.4595, 12.5599, 10.6029, 10.1156, 8.65089, 8.56625, 8.45754, 8.44407, 8.40368, 8.38764, 10.0048, 10.1171, 13.4708, 15.3204, 15.8685, 16.3, 16.4164, 16.5313, 16.1454, 16.6006, 16.6294, 16.6795, 16.9632, 16.9813, 12.4261, 12.5516, 10.5554, 10.0184, 8.65723, 8.67271, 8.52361, 8.44475, 8.3964, 8.41053, 10.0148, 10.0579, 13.3293, 15.0835, 15.6046, 16.1045, 16.3371, 16.4314, 16.0068, 16.487, 16.6086, 16.5946, 16.7562, 16.774, 12.4676, 12.5554, 10.5825, 10.0762, 8.72858, 8.783, 8.69858, 8.68154, 8.59156, 8.46801, 10.012, 10.0284, 13.3864, 15.2628, 15.8357, 16.3033, 16.4898, 16.6746, 16.2961, 16.7577, 16.8178, 16.8593, 16.9721, 16.9367, 12.526, 12.571, 10.6248, 10.189, 8.85755, 8.83395, 8.67956, 8.68035, 8.68329, 8.66342, 8.97045, 8.91075, 9.86678, 11.4349, 11.6058, 13.1848, 13.3556, 13.3951, 13.0512, 12.978, 12.9977, 11.8096, 11.8401, 11.3027, 10.6581, 10.791, 9.22967, 9.21063, 8.79894, 8.7387, 8.52105, 8.26818, 8.27784, 8.25838, 8.58159, 8.47566, 9.40499, 9.42959, 10.5807, 10.6256, 10.7861, 10.8218, 10.8244, 10.7438, 10.7467, 10.7287, 10.3913, 9.78441, 9.20435, 9.26474, 8.86362, 8.82778, 8.43045, 8.46567, 8.34052, 8.50228, 8.49172, 8.48936, 10.0808, 10.0749, 13.301, 15.0708, 15.5645, 15.9899, 16.1065, 16.1915, 15.8289, 16.2926, 16.3073, 16.3141, 16.3908, 16.3894, 12.3557, 12.2984, 10.2469, 9.76177, 8.4316, 8.44056, 8.29358, 8.25741, 8.21719, 8.20997, 9.79886, 9.78613, 13.1046, 14.9243, 15.4871, 15.9444, 16.0777, 16.1691, 15.7724, 16.2024, 16.2265, 16.3003, 16.4341, 16.4397, 12.367, 12.2811, 10.1756, 9.62941, 8.27892, 8.2354, 7.98133, 7.88159, 7.86891, 7.89419, 9.54555, 9.58826, 12.8416, 14.6617, 15.2537, 15.8044, 16.0312, 16.1552, 15.747, 16.2404, 16.3358, 16.3596, 16.4395, 16.4069, 11.9704, 11.8322, 9.81282, 9.36262, 8.08978, 8.09938, 7.90141, 7.81207, 7.73011, 7.64155, 9.14428, 9.1578, 12.4603, 14.2329, 14.8533, 15.5313, 15.7903, 16.0148, 15.7302, 16.252, 16.4098, 16.4915, 16.7015, 16.7059, 12.4228, 12.363, 10.2298, 9.68509, 8.36848, 8.36793, 8.16979, 8.12544, 8.06026, 7.95093, 9.48952, 9.44137, 12.6386, 14.4645, 15.2552, 15.7913, 16.0392, 16.3056, 15.9273, 16.444, 16.5051, 16.4607, 16.6002, 16.7048, 12.3847, 12.3937, 10.3954, 9.8548, 8.41547, 8.16599, 7.84273, 7.74096, 7.71959, 7.61833, 8.02115, 8.06066, 9.09427, 10.5958, 10.9947, 12.965, 13.3716, 13.8821, 12.938, 12.7684, 13.0599, 11.7309, 11.5026, 11.0328, 10.2085, 10.4268, 9.02728, 9.08075, 8.665, 8.65664, 8.24353, 7.83774, 7.94935, 7.83537, 8.01701, 8.04548, 9.2715, 9.30057, 10.5455, 10.7233, 11.198, 11.4079, 10.8491, 10.677, 10.5821, 10.6847, 10.1765, 9.37501, 8.80133, 8.96625, 8.57484, 8.56923, 8.14128, 8.07811, 7.79329, 7.84904, 7.78129, 7.79815, 9.48075, 9.42293, 12.6731, 14.4395, 15.2004, 15.833, 16.0315, 16.244, 15.8706, 16.4039, 16.5077, 16.7101, 17.0063, 16.9996, 12.6711, 12.6305, 10.507, 9.95517, 8.67487, 8.76697, 8.71257, 8.73236, 8.7123, 8.6967, 10.304, 10.2125, 13.4363, 15.1198, 15.7278, 16.3267, 16.6304, 16.9281, 16.5211, 16.9864, 17.1092, 17.1592, 17.3001, 17.1682, 12.5397, 12.5443, 10.5537, 10.0243, 8.67031, 8.69027, 8.54984, 8.48856, 8.42391, 8.3624, 9.92329, 10.0204, 13.4325, 15.1925, 15.7749, 16.3114, 16.5014, 16.7852, 16.4657, 16.9484, 17.0109, 16.9978, 17.0105, 16.7989, 12.4873, 12.4114, 10.3172, 9.79941, 8.46381, 8.47129, 8.32241, 8.32403, 8.28654, 8.24631, 9.83174, 9.90391, 13.3117, 15.0181, 15.4914, 15.9425, 16.178, 16.411, 16.0386, 16.601, 16.7517, 16.7213, 16.7253, 16.6063, 12.4156, 12.3153, 10.287, 9.79836, 8.42898, 8.36532, 8.18114, 8.17579, 8.1742, 8.20158, 9.85796, 9.92138, 13.2854, 14.9876, 15.4988, 15.9355, 16.0754, 16.099, 15.6455, 16.163, 16.3481, 16.4177, 16.5066, 16.5177, 12.3401, 12.1663, 10.1109, 9.59819, 8.25377, 8.25757, 8.10916, 8.15948, 8.18087, 8.15276, 8.46685, 8.38739, 9.47128, 11.0546, 11.1826, 12.6011, 12.741, 12.8274, 12.5445, 12.5257, 12.5365, 11.3674, 11.3467, 10.8027, 10.132, 10.127, 8.57461, 8.59074, 8.23403, 8.27495, 8.14548, 7.94836, 7.94807, 7.90838, 8.26762, 8.3249, 9.39451, 9.30377, 10.3668, 10.3593, 10.507, 10.5533, 10.591, 10.5292, 10.548, 10.5293, 10.1823, 9.53475, 9.01011, 9.03396, 8.59131, 8.489, 8.06248, 8.08946, 8.00638, 8.21249, 8.17888, 8.17286, 9.72511, 9.71631, 13.0446, 14.8232, 15.4038, 15.869, 16.0323, 16.1394, 15.8091, 16.2463, 16.236, 16.223, 16.2939, 16.2453, 12.1556, 12.0042, 9.96498, 9.45537, 8.14985, 8.15694, 7.92595, 7.86136, 7.80805, 7.76175, 9.36894, 9.38985, 12.7107, 14.423, 14.9736, 15.5218, 15.702, 15.8398, 15.5557, 16.0736, 16.1156, 16.0364, 16.0396, 15.9346, 11.8342, 11.8402, 9.86015, 9.37413, 8.01452, 7.9417, 7.74938, 7.70381, 7.65429, 7.61712, 9.12026, 9.06355, 12.3725, 14.148, 14.8607, 15.4701, 15.7083, 15.8396, 15.5235, 16.1042, 16.2091, 16.23, 16.4581, 16.4957, 12.3427, 12.2295, 10.2221, 9.62905, 8.23139, 8.22566, 8.03398, 7.95326, 7.87674, 7.80997, 9.3298, 9.24207, 12.4866, 14.2152, 14.9625, 15.9351, 16.425, 16.6019, 16.1501, 16.532, 16.5711, 16.6153, 16.7098, 16.7592, 12.6042, 12.5964, 10.6109, 10.1562, 8.8087, 8.72349, 8.48552, 8.44039, 8.39643, 8.33009, 9.86152, 9.829, 13.2283, 15.0299, 15.6821, 16.269, 16.425, 16.5083, 16.0618, 16.5314, 16.6337, 16.8511, 17.0482, 16.9454, 12.6098, 12.5892, 10.6475, 10.1859, 8.87284, 8.86862, 8.69399, 8.67984, 8.64469, 8.56462, 8.89741, 8.85654, 9.86519, 11.3987, 11.6884, 13.2488, 13.3875, 13.4346, 13.088, 13.0389, 13.0584, 11.9219, 12.0072, 11.4555, 10.878, 10.8232, 9.24361, 9.23345, 8.84026, 8.85108, 8.71584, 8.4933, 8.39503, 8.20803, 8.50165, 8.28984, 9.31871, 9.37738, 10.456, 10.5189, 10.7647, 10.8123, 10.8664, 10.6993, 10.6799, 10.7288, 10.4786, 9.83182, 9.25763, 9.14396, 8.70986, 8.58925, 8.2052, 8.21696, 8.08858, 8.09249, 8.09448, 8.11115, 8.50266, 8.50207, 9.56806, 9.46892, 10.4733, 10.404, 10.5227, 10.6127, 10.5829, 10.4881, 10.5411, 10.546, 10.313, 9.71654, 9.22686, 9.19889, 8.87521, 8.94103, 8.54102, 8.47526, 8.29461, 8.45733, 8.39754, 8.33632, 9.94393, 9.95024, 13.2287, 14.8577, 15.3395, 15.8044, 15.9798, 16.1365, 15.768, 16.1996, 16.3079, 16.2953, 16.3531, 16.3268, 12.4643, 12.3073, 10.2648, 9.77634, 8.47746, 8.52371, 8.36725, 8.34974, 8.38395, 8.3979, 10.0, 9.98737, 13.2675, 14.9724, 15.4804, 15.9737, 16.2908, 16.4199, 15.9591, 16.3818, 16.4308, 16.4856, 16.557, 16.4576, 12.5612, 12.5089, 10.4305, 9.84959, 8.4312, 8.42189, 8.23524, 8.13931, 8.09669, 8.11191, 9.70098, 9.72364, 13.085, 14.8317, 15.3898, 15.8358, 16.0548, 16.2211, 15.8256, 16.2991, 16.3327, 16.3628, 16.4128, 16.4082, 12.4305, 12.2754, 10.2571, 9.77931, 8.3968, 8.34886, 8.16424, 8.13323, 8.12648, 8.1249, 9.75154, 9.75225, 13.1728, 14.8792, 15.4839, 15.9888, 16.2542, 16.3992, 15.9353, 16.3306, 16.4454, 16.5046, 16.5198, 16.4147, 12.3939, 12.1431, 10.1214, 9.70398, 8.44047, 8.42319, 8.23745, 8.19679, 8.15605, 8.11326, 8.42695, 8.4143, 9.59154, 11.0463, 11.1283, 12.5778, 12.7104, 12.7744, 12.4869, 12.454, 12.4864, 11.4267, 11.5248, 10.9962, 10.4065, 10.3416, 8.75506, 8.71506, 8.24178, 8.22531, 8.13637, 7.96471, 7.9523, 7.91544, 8.26455, 8.2451, 9.35503, 9.19166, 10.2031, 10.1736, 10.3066, 10.3421, 10.4157, 10.3732, 10.3827, 10.3981, 10.1135, 9.43612, 8.89759, 8.79356, 8.37403, 8.35899, 7.96958, 7.91528, 7.68919, 7.86911, 7.84328, 7.76827, 9.28049, 9.24075, 12.5915, 14.2428, 14.8977, 15.5785, 15.8854, 16.0822, 15.7319, 16.2218, 16.2872, 16.3023, 16.3657, 16.3598, 12.4993, 12.3761, 10.3848, 9.94667, 8.60068, 8.5416, 8.37181, 8.30333, 8.21499, 8.14878, 9.70561, 9.62891, 12.9905, 14.7126, 15.3977, 16.095, 16.3955, 16.4532, 15.9813, 16.4595, 16.6116, 16.6576, 16.5677, 16.424, 12.6189, 12.5155, 10.4945, 9.92392, 8.49514, 8.48043, 8.347, 8.28415, 8.25248, 8.27644, 9.85296, 9.81123, 13.1052, 14.6885, 15.269, 15.9962, 16.2864, 16.4679, 15.9843, 16.3666, 16.3892, 16.4373, 16.4821, 16.5119, 12.6605, 12.6032, 10.6412, 10.1717, 8.82236, 8.82404, 8.60274, 8.29739, 8.00772, 7.86415, 9.37999, 9.17618, 12.712, 14.6991, 15.4623, 16.0293, 16.2917, 16.7746, 15.8146, 16.4779, 16.5565, 16.5917, 16.7836, 16.9273, 12.673, 12.5836, 10.634, 10.1568, 8.82202, 8.81546, 8.55049, 8.45269, 8.42084, 8.41203, 10.0447, 10.0739, 13.508, 15.1946, 15.7247, 16.1532, 16.2728, 16.3145, 15.8607, 16.3202, 16.3816, 16.3304, 16.3437, 16.0959, 12.0698, 12.0043, 9.97308, 9.38904, 8.0204, 8.07933, 8.06146, 8.21146, 8.29922, 8.23547, 8.528, 8.46933, 9.65385, 11.1821, 11.2846, 12.7487, 12.9088, 12.9443, 12.5724, 12.5124, 12.6292, 11.498, 11.4903, 11.003, 10.5757, 10.5127, 8.95672, 8.98406, 8.60975, 8.55657, 8.34115, 8.09517, 8.06424, 8.08535, 8.52992, 8.5948, 9.7752, 9.61921, 10.6362, 10.6561, 10.8384, 10.9098, 10.9291, 10.9124, 10.9851, 10.9745, 10.6188, 9.97738, 9.58991, 9.4714, 9.07653, 9.08553, 8.71963, 8.72751, 8.58314, 8.78607, 8.75927, 8.73775, 10.3184, 10.3462, 13.6848, 15.2831, 15.7768, 16.1939, 16.3126, 16.3318, 15.8488, 16.2498, 16.2714, 16.2792, 16.3362, 16.3123, 12.5094, 12.2774, 10.2748, 9.86272, 8.5975, 8.60613, 8.41003, 8.29976, 8.16514, 8.03594, 9.53214, 9.4966, 12.8569, 14.5035, 15.161, 15.7724, 16.0697, 16.3318, 15.9544, 16.4313, 16.4359, 16.3931, 16.4552, 16.4287, 12.6474, 12.5396, 10.547, 10.1213, 8.77333, 8.73646, 8.4405, 8.29898, 8.29612, 8.26126, 9.77992, 9.68742, 12.9178, 14.3971, 14.8459, 15.2602, 15.4025, 15.513, 15.1302, 15.5746, 15.6376, 15.6317, 15.7125, 15.7009, 11.8194, 11.6101, 9.64539, 9.28851, 8.01616, 7.94726, 7.74299, 7.76084, 7.79628, 7.80061, 9.36885, 9.32399, 12.6176, 14.2909, 14.7497, 15.1844, 15.4544, 15.6061, 15.0679, 15.526, 15.5085, 15.5038, 15.5621, 15.4775, 11.5946, 11.5122, 9.56624, 9.06454, 7.63835, 7.46551, 7.29393, 7.32658, 7.29243, 7.2519, 8.86465, 8.89494, 12.3141, 13.9937, 14.5271, 14.8858, 15.1718, 15.4962, 15.2397, 15.7793, 15.8436, 15.7574, 15.7625, 15.6785, 11.7611, 11.7055, 9.77356, 9.22504, 7.85683, 7.88102, 7.64074, 7.49924, 7.43025, 7.39341, 7.70443, 7.63096, 8.74755, 10.2053, 10.3455, 11.8171, 12.0871, 12.4753, 12.3535, 12.0684, 12.2013, 11.1711, 11.1092, 10.4712, 10.013, 9.91303, 8.2515, 8.30951, 7.90515, 7.81327, 7.6125, 7.35559, 7.26789, 7.19969, 7.51715, 7.45038, 8.54792, 8.3884, 9.43761, 9.8287, 10.4314, 10.7972, 11.0008, 11.0011, 11.1561, 11.1028, 10.4115, 9.56954, 9.19573, 9.10395, 8.96308, 9.16436, 8.55763, 8.52437, 8.38556, 8.63677, 8.73441, 8.70876, 10.2146, 10.1892, 13.5032, 15.1387, 15.6777, 16.2548, 16.4948, 16.6658, 16.2943, 16.8428, 16.7946, 16.0879, 15.6609, 15.5409, 11.7619, 11.482, 9.44422, 8.95401, 7.66066, 7.86515, 7.92415, 7.84275, 7.83593, 8.11714, 9.74318, 9.81662, 13.3139, 15.0658, 15.5612, 16.1061, 16.4945, 16.2333, 15.4596, 15.8447, 15.8467, 15.9136, 15.9499, 15.7228, 11.5354, 11.4677, 9.51854, 9.07316, 7.75465, 7.72535, 7.55411, 7.59017, 7.64795, 7.67438, 9.27878, 9.27945, 12.6018, 14.2527, 14.7893, 15.422, 15.6673, 15.6492, 15.3244, 15.9539, 15.9567, 15.8732, 15.8502, 15.7812, 11.8619, 11.774, 9.70627, 9.13591, 7.76659, 7.70762, 7.46169, 7.40423, 7.37569, 7.33238, 8.90363, 8.88497, 12.2625, 13.9563, 14.4184, 14.9477, 15.2891, 15.5381, 15.2303, 15.7415, 15.8642, 15.9022, 15.9685, 16.0054, 12.0406, 11.8492, 9.85562, 9.40786, 8.06961, 8.07766, 7.85472, 7.74301, 7.6615, 7.60587, 9.18533, 9.13485, 12.4523, 14.0836, 14.6121, 15.2594, 15.5729, 15.7985, 15.4484, 15.9245, 16.0063, 16.0183, 16.0751, 16.1204, 12.2472, 12.1622, 10.192, 9.7301, 8.41047, 8.42095, 8.30563, 8.31761, 8.31616, 8.34646, 8.74449, 8.69192, 9.74008, 11.2382, 11.2932, 12.7611, 12.9306, 12.9641, 12.5737, 12.4893, 12.4669, 11.3282, 11.316, 10.7382, 10.0916, 9.89992, 8.2209, 8.17345, 7.7542, 7.71766, 7.52834, 7.31448, 7.24934, 7.18623, 7.52905, 7.49049, 8.59189, 8.50941, 9.53791, 9.62003, 9.93522, 10.1722, 10.2777, 10.2357, 10.1927, 10.1499, 9.81326, 9.17653, 8.64788, 8.48534, 8.07334, 8.05823, 7.6494, 7.6331, 7.46564, 7.57148, 7.46639, 7.40613, 7.34523, 8.87148, 8.85519, 12.0194, 13.8256, 14.3703, 14.9302, 15.1846, 15.416, 15.1528, 15.8703, 15.8824, 15.6263, 15.6862, 15.8911, 11.9447, 11.8759, 9.87879, 9.3448, 7.9473, 7.9122, 7.73707, 7.68689, 7.69396, 7.6531, 9.19077, 9.16289, 12.2959, 14.1194, 14.9114, 15.6911, 15.9717, 16.0326, 15.7056, 16.2816, 16.286, 16.217, 15.8814, 15.7349, 11.8056, 11.6824, 9.59516, 9.07904, 7.76299, 7.74257, 7.54948, 7.50565, 7.42825, 7.36681, 8.93356, 8.91209, 12.0859, 14.0424, 14.9525, 15.7878, 16.143, 16.3771, 15.8551, 15.8798, 15.7848, 15.8118, 16.0224, 16.123, 11.9804, 11.752, 9.69875, 9.20588, 7.78535, 7.68604, 7.45071, 7.41489, 7.56576, 7.49459, 9.0558, 9.21063, 12.3425, 14.1494, 14.822, 15.4469, 15.7048, 15.8135, 15.5514, 15.9897, 15.9576, 16.2099, 16.4869, 16.614, 12.3726, 12.1813, 10.2188, 9.65907, 8.18324, 8.16144, 8.04298, 7.95411, 7.8623, 7.7313, 9.15479, 9.07397, 12.2174, 14.0562, 14.7537, 15.4275, 15.7737, 16.0339, 15.725, 16.1921, 16.1791, 16.0798, 16.131, 16.2404, 12.0044, 11.8002, 9.76457, 9.27481, 7.93933, 7.9357, 7.55098, 7.64288, 7.81478, 7.76142, 8.03406, 7.99715, 8.86976, 8.85534, 10.0324, 10.1373, 10.3064, 10.409, 10.4646, 10.3857, 10.4054, 10.4129, 10.0913, 9.6389, 8.9645, 8.86552, 8.52163, 8.48919, 7.99107, 7.90879, 7.71799, 7.68419, 7.61313, 7.5682, 8.03759, 8.05874, 8.97922, 9.0917, 10.2346, 10.1545, 10.2122, 10.2432, 10.2675, 10.2877, 10.334, 10.2761, 9.8945, 9.32538, 8.66807, 8.5071, 8.00823, 8.09495, 7.80272, 7.84716, 7.90197, 7.90322, 7.85688, 7.82913, 9.37243, 9.44119, 12.6078, 14.3493, 14.8369, 15.2254, 15.3097, 15.5259, 15.2493, 15.396, 15.2868, 15.248, 15.3148, 15.421, 11.853, 12.0363, 10.0623, 9.60044, 8.27656, 7.88239, 7.55539, 7.53364, 7.53469, 7.68028, 9.36267, 9.42151, 12.5231, 14.354, 14.8751, 14.8592, 15.1756, 15.3887, 15.0427, 15.4975, 15.4358, 15.3808, 15.3943, 15.421, 11.3852, 11.2602, 9.30857, 8.81053, 7.45531, 7.42944, 7.26334, 7.25325, 7.23739, 7.22995, 8.81908, 8.83744, 12.0209, 13.8242, 14.3211, 14.7262, 14.8395, 14.8833, 14.457, 14.9517, 15.0021, 15.043, 15.2543, 15.502, 11.6397, 11.6016, 9.65821, 9.22307, 7.95392, 8.02854, 7.84874, 7.7684, 7.74746, 7.70626, 9.22748, 9.20773, 12.4485, 14.3019, 15.0396, 15.5939, 15.8278, 15.9898, 15.5405, 15.876, 15.8175, 15.7741, 15.808, 15.9186, 11.9331, 11.8346, 9.83554, 9.34137, 7.97235, 7.97262, 7.77326, 7.63237, 7.54564, 7.52095, 9.10954, 9.06777, 12.2661, 13.9981, 14.6044, 15.2653, 15.7059, 15.9847, 15.6119, 16.0246, 15.9787, 15.9324, 15.9801, 16.0807, 11.963, 11.7823, 9.79028, 9.27551, 7.89271, 7.91079, 7.77532, 7.76916, 7.7302, 7.6308, 7.92484, 7.8639, 8.80649, 10.3487, 10.5752, 12.2301, 12.4807, 12.5705, 12.2691, 12.2163, 12.2442, 11.0819, 11.1573, 10.7262, 9.98624, 9.90173, 8.32359, 8.37003, 7.99794, 7.95512, 7.56369, 7.52563, 7.51534, 7.48614, 7.80799, 7.73224, 8.68588, 8.65864, 9.69036, 9.66011, 10.0115, 10.3331, 10.4045, 10.3374, 10.3732, 10.3117, 10.0208, 9.46177, 8.78626, 8.66657, 8.28805, 8.23715, 7.77389, 7.72906, 7.72173, 7.62981, 7.51536, 7.43625, 8.97858, 8.93944, 12.126, 13.905, 14.6563, 15.3454, 15.6387, 15.8088, 15.4213, 15.8489, 15.8074, 15.7343, 15.8471, 15.8723, 11.8466, 11.7663, 9.75081, 9.15061, 7.77297, 7.77005, 7.57232, 7.49194, 7.42378, 7.33862, 8.91574, 8.95305, 12.1814, 13.9132, 14.6228, 15.3129, 15.6116, 15.8079, 15.5035, 16.0793, 16.1969, 16.2804, 16.4728, 16.4058, 12.1544, 11.9809, 9.96936, 9.45806, 8.13956, 8.14901, 7.94781, 7.93697, 7.93414, 7.93343, 9.50868, 9.47129, 12.6288, 14.3056, 14.798, 15.2912, 15.6195, 15.7985, 15.4699, 15.97, 15.8143, 15.6473, 15.7159, 15.7372, 11.6833, 11.5696, 9.61428, 9.11283, 7.72045, 7.68227, 7.2987, 7.30786, 7.35542, 7.39185, 7.79016, 7.73653, 8.65669, 8.61108, 9.63094, 9.6336, 9.97594, 10.2377, 10.3223, 10.3115, 10.2456, 10.1694, 9.88551, 9.30084, 8.6298, 8.47415, 8.07329, 8.08639, 7.72793, 7.78038, 7.84153, 7.84362, 7.8441, 7.81337, 9.40619, 9.41666, 12.6505, 14.3763, 14.8678, 15.2884, 15.4589, 15.5862, 15.2088, 15.6785, 15.6386, 15.5194, 15.5093, 15.9512, 12.1128, 12.1088, 10.0635, 9.48937, 8.11971, 8.17493, 8.02332, 7.96623, 7.93504, 7.9738, 8.36133, 8.36569, 9.36696, 10.8742, 10.9722, 12.411, 12.4058, 12.4713, 12.2787, 12.2873, 12.3093, 11.1759, 11.3397, 11.021, 10.2809, 10.2529, 8.73607, 8.75655, 8.48748, 8.66536, 8.37273, 8.37327, 8.41142, 8.42336, 8.78427, 8.79917, 9.76697, 9.69022, 10.6807, 10.6779, 10.8321, 11.0796, 11.2085, 11.141, 11.1916, 11.0896, 10.7203, 10.1358, 9.52872, 9.3229, 8.97669, 8.70594, 8.09723, 8.0876, 8.17881, 8.07947, 8.18604, 8.19736, 9.73372, 9.71086, 12.9117, 14.7197, 15.3331, 15.6161, 15.5612, 15.3328, 14.723, 15.1859, 15.1511, 15.1671, 15.4252, 15.543, 11.6552, 11.5373, 9.51427, 8.95063, 7.55998, 7.56671, 7.33884, 7.25258, 7.23422, 7.21021, 9.00053, 9.26262, 12.613, 14.3684, 14.8478, 15.2441, 15.4667, 15.8625, 15.3917, 15.3552, 15.4393, 15.2499, 15.3602, 15.4557, 11.4459, 11.2691, 9.23645, 8.72932, 7.39537, 7.72114, 7.43502, 7.3131, 7.40373, 7.66755, 9.51703, 9.65408, 12.9236, 14.5965, 15.1711, 15.9243, 16.2011, 16.309, 15.6977, 15.6299, 15.4121, 15.2092, 15.4037, 15.435, 11.4055, 11.2791, 9.27713, 8.7797, 7.43278, 7.4286, 7.40156, 7.48912, 7.66838, 7.83742, 9.43418, 9.37615, 12.5008, 14.0546, 14.4009, 14.7894, 14.935, 15.1035, 14.671, 15.0766, 15.0804, 15.0524, 15.2039, 15.2785, 11.303, 11.3559, 9.6394, 9.16083, 7.76498, 7.73055, 7.44571, 7.34088, 7.28416, 7.23797, 8.86302, 8.88417, 12.1335, 13.8725, 14.38, 14.7953, 14.9229, 15.0011, 14.5627, 14.9799, 15.0143, 14.9972, 15.1529, 15.2067, 11.2471, 11.1583, 9.20008, 8.73294, 7.40691, 7.41296, 7.2603, 7.25943, 7.26359, 7.26445, 7.65828, 7.65983, 8.7431, 10.2935, 10.4245, 11.8386, 11.9333, 11.9086, 11.4862, 11.4001, 11.434, 10.4092, 10.6237, 10.2688, 9.57757, 9.50697, 7.9531, 7.96505, 7.56176, 7.58755, 7.26626, 7.27266, 7.2744, 7.27495, 7.694, 7.72216, 8.79133, 8.7287, 9.81642, 9.87276, 10.049, 10.166, 10.2435, 10.1494, 10.1531, 10.0853, 9.75541, 9.14456, 8.47504, 8.36889, 7.9892, 8.00676, 7.60553, 7.54801, 7.49293, 7.41315, 7.35423, 7.33365, 8.92491, 8.90614, 12.1831, 13.8733, 14.4676, 15.036, 15.373, 15.5867, 15.3088, 15.8118, 15.7061, 15.5558, 15.6886, 15.7726, 11.8815, 11.7882, 9.81492, 9.30932, 7.93024, 7.93577, 7.82879, 7.85599, 7.86149, 7.84084, 9.4418, 9.47228, 12.7191, 14.3232, 14.9225, 15.5041, 15.6451, 15.8581, 15.5626, 15.8979, 15.8229, 15.7074, 15.7576, 15.8306, 11.8642, 11.7117, 9.67312, 9.1386, 7.70898, 7.65252, 7.48596, 7.4808, 7.45878, 7.47027, 9.12392, 9.1232, 12.3734, 14.0295, 14.5677, 15.1313, 15.3929, 15.4913, 15.0804, 15.5009, 15.4299, 15.3903, 15.5611, 15.636, 11.6403, 11.5068, 9.51799, 9.03022, 7.64282, 7.61462, 7.41378, 7.33716, 7.27057, 7.24707, 8.82824, 8.8374, 12.145, 13.8457, 14.3788, 14.8347, 15.1551, 15.4105, 15.1093, 15.5055, 15.4921, 15.5646, 15.7935, 15.9018, 11.8334, 11.6581, 9.60902, 9.03305, 7.61855, 7.58482, 7.36904, 7.30334, 7.30534, 7.33895, 8.94879, 8.90561, 12.2087, 13.8717, 14.4375, 14.9257, 15.0265, 15.1066, 14.6598, 15.0782, 15.076, 15.0602, 15.6289, 16.1047, 12.061, 12.0331, 10.1804, 9.727, 8.45177, 8.46687, 8.30281, 8.21804, 8.16772, 8.01406, 8.38993, 8.4491, 9.44722, 10.9814, 11.0207, 12.4368, 12.5839, 12.6583, 12.1482, 11.9312, 12.3364, 11.62, 11.9061, 11.5319, 10.5769, 10.2667, 8.66242, 8.66915, 8.29284, 8.19524, 7.82555, 7.87388, 7.76109, 7.73768, 8.12445, 8.08888, 9.14478, 9.06851, 10.1003, 9.92883, 9.94813, 9.79413, 9.77348, 9.62042, 9.54866, 9.60183, 9.48295, 9.00031, 8.3625, 8.19408, 7.7294, 7.75778, 7.42595, 7.49291, 7.46577, 7.55263, 7.81709, 7.81983, 9.13694, 9.06912, 12.6772, 14.6165, 15.2136, 15.7346, 15.8863, 16.0278, 15.6191, 16.0313, 16.0476, 16.1373, 16.3773, 16.4652, 12.6116, 12.4965, 10.4994, 10.0338, 8.73205, 8.74104, 8.57544, 8.42345, 8.21289, 8.11443, 9.83916, 9.89623, 13.1468, 14.9588, 15.4908, 15.9687, 16.0406, 16.0958, 15.7684, 15.8474, 15.6042, 15.5523, 15.654, 15.7642, 11.9646, 11.9778, 10.0712, 9.55132, 8.17697, 8.29752, 8.08217, 7.95784, 7.99819, 8.12282, 9.74188, 9.80834, 13.1491, 14.9173, 15.4102, 15.8722, 16.0114, 16.1272, 15.5791, 15.8496, 15.5869, 15.1716, 15.5689, 15.9115, 11.9925, 11.9746, 9.94491, 9.42695, 8.16332, 8.44843, 8.31378, 8.27637, 8.38004, 8.40967, 9.9143, 9.94642, 13.2465, 15.027, 15.5666, 15.9601, 16.0768, 16.1978, 15.4372, 15.6448, 15.5959, 15.6214, 15.7548, 15.8571, 12.041, 11.928, 9.93297, 9.50579, 8.28923, 8.45821, 8.307, 8.16034, 8.08898, 8.13006, 9.74329, 9.75294, 13.0455, 14.8124, 15.3525, 15.6833, 15.8072, 15.9894, 15.2467, 15.4155, 15.2236, 15.3463, 15.8224, 15.2857, 11.3236, 11.265, 9.32338, 9.13643, 8.08307, 8.34885, 8.05616, 7.92791, 7.76307, 7.78148, 8.30281, 8.38923, 9.32955, 10.9535, 11.2594, 12.641, 12.8389, 13.1837, 12.9876, 12.7375, 12.5947, 11.2026, 11.0756, 10.964, 10.6716, 10.8248, 9.32485, 8.86784, 8.34903, 8.39144, 8.12419, 7.91144, 7.81894, 7.72662, 8.09969, 8.1761, 9.30374, 9.36869, 10.463, 10.4066, 10.6697, 11.1196, 11.2939, 11.2024, 10.4092, 9.91403, 9.55313, 8.99108, 8.36934, 8.38786, 8.44776, 8.44839, 8.01802, 7.91958, 7.89713, 7.83412, 7.80334, 8.03534, 9.82313, 9.83568, 13.0377, 14.8411, 15.5029, 15.8732, 16.3718, 16.6884, 15.7286, 15.74, 15.7394, 15.7166, 15.8382, 15.8641, 12.0711, 12.2264, 10.3229, 9.55711, 8.10403, 8.15329, 8.1611, 8.10426, 8.11105, 8.21214, 9.73735, 9.66416, 12.9689, 14.6854, 15.2979, 15.7953, 16.1368, 16.5818, 16.297, 16.3538, 16.0431, 15.9645, 15.6798, 15.6084, 11.5101, 11.2895, 9.37033, 9.11909, 8.04522, 8.22078, 8.35238, 8.47896, 8.21038, 8.09962, 9.75581, 9.73281, 13.0646, 14.7313, 15.2466, 15.8305, 16.2072, 16.5396, 15.9336, 16.2263, 16.2067, 16.0936, 16.1031, 16.1069, 12.1386, 12.0761, 10.1031, 9.67441, 8.33581, 8.36213, 8.27696, 7.93138, 7.77178, 7.76521, 9.30859, 9.31213, 12.7094, 14.5897, 15.196, 15.7879, 16.1716, 15.7694, 15.1421, 15.5717, 15.5023, 15.5117, 15.6008, 15.571, 11.494, 11.3309, 9.34457, 8.88892, 7.49896, 7.4476, 7.33622, 7.3948, 7.2477, 7.24099, 8.8331, 8.82781, 12.1811, 13.8818, 14.4628, 15.1319, 15.5966, 15.4457, 15.1023, 15.6143, 15.6344, 15.4658, 15.5106, 15.5204, 11.4752, 11.3375, 9.32796, 8.8221, 7.47145, 7.44263, 7.3524, 7.27685, 7.235, 7.21778, 7.55787, 7.5802, 8.74039, 10.392, 10.832, 12.3453, 12.7437, 13.2751, 12.2294, 11.7412, 11.7146, 10.5903, 10.7508, 10.261, 9.53773, 9.44345, 7.83002, 7.85585, 7.48349, 7.46636, 7.10203, 7.14901, 7.11184, 7.11733, 7.542, 7.57745, 8.66961, 8.51658, 9.65112, 9.71757, 10.1104, 10.533, 10.7912, 10.0305, 9.99392, 9.90356, 9.61801, 8.99485, 8.28984, 8.16155, 7.70882, 7.6697, 7.2768, 7.43873, 7.18708, 7.08821, 7.12161, 7.31485, 7.60452, 7.48749, 8.50628, 8.36936, 9.63503, 9.93277, 10.3187, 10.5633, 10.7977, 10.8156, 10.3358, 10.102, 9.72633, 8.97783, 8.28358, 8.20921, 7.8399, 7.79394, 7.34261, 7.32414, 7.72655, 7.65716, 7.4757, 7.21426, 8.86364, 8.90864, 12.2702, 13.8424, 14.3039, 14.7406, 14.982, 15.1746, 14.7601, 15.1775, 15.1667, 15.0857, 15.1006, 15.1447, 11.255, 11.1971, 9.25306, 8.78452, 7.44867, 7.4276, 7.27077, 7.29675, 7.27637, 7.24447, 8.83224, 8.84839, 12.2112, 13.8029, 14.2958, 14.7298, 14.9035, 15.0866, 14.6655, 15.1095, 15.1417, 15.1426, 15.2313, 15.3315, 11.3758, 11.2934, 9.34073, 8.86641, 7.50977, 7.48419, 7.28405, 7.25089, 7.24144, 7.23732, 8.79632, 8.83127, 12.2067, 13.8245, 14.3224, 14.7603, 14.9043, 15.0495, 14.7097, 15.0967, 15.136, 15.2399, 15.3987, 15.6056, 11.7115, 11.6317, 9.68287, 9.27005, 7.95239, 7.91053, 7.68277, 7.57645, 7.44408, 7.32758, 8.90178, 8.91341, 12.2754, 13.9064, 14.6231, 15.1669, 15.2377, 15.3428, 14.9582, 15.4543, 15.4864, 15.5468, 15.827, 15.9281, 11.8319, 11.61, 9.62781, 9.19221, 7.85396, 7.85861, 7.67951, 7.65311, 7.63399, 7.59292, 7.96032, 7.93439, 9.06283, 10.55, 10.6957, 12.1746, 12.3864, 12.4447, 12.0804, 11.9856, 12.0429, 11.0052, 11.1399, 10.8379, 10.0642, 9.92029, 8.30383, 8.26516, 7.847, 7.79216, 7.3924, 7.39679, 7.42195, 7.42924, 7.81892, 7.81928, 8.94689, 8.78782, 9.77888, 9.71358, 9.81687, 9.90272, 10.013, 9.97408, 9.97415, 9.89615, 9.61574, 9.18925, 8.55558, 8.48161, 8.09897, 8.06579, 7.69568, 7.76217], "outage_end_time_step": 31, "monthly_totals_kwh": [], "year": 2017, "outage_start_time_step": 10, "outage_is_major_event": True, "critical_loads_kw": [], "doe_reference_name": "Hospital", "annual_kwh": 100000.0}, "roof_squarefeet": None, "Storage": {"max_kwh": 1000000.0, "rectifier_efficiency_pct": 0.96, "total_itc_pct": 0.0, "min_kw": 0.0, "max_kw": 1000000.0, "replace_cost_us_dollars_per_kw": 460.0, "replace_cost_us_dollars_per_kwh": 230.0, "min_kwh": 0.0, "installed_cost_us_dollars_per_kw": 1000.0, "total_rebate_us_dollars_per_kw": 0, "installed_cost_us_dollars_per_kwh": 500.0, "inverter_efficiency_pct": 0.96, "macrs_itc_reduction": 0.5, "canGridCharge": True, "macrs_bonus_pct": 0.0, "battery_replacement_year": 10, "macrs_option_years": 7, "internal_efficiency_pct": 0.975, "soc_min_pct": 0.2, "soc_init_pct": 0.5, "inverter_replacement_year": 10}, "land_acres": None, "ElectricTariff": {"add_blended_rates_to_urdb_rate": False, "wholesale_rate_us_dollars_per_kwh": 0.0, "net_metering_limit_kw": 0.0, "interconnection_limit_kw": 100000000.0, "blended_monthly_demand_charges_us_dollars_per_kw": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "urdb_utility_name": "", "urdb_label": "", "wholesale_rate_above_site_load_us_dollars_per_kwh": 0.0, "urdb_rate_name": "", "urdb_response": None, "blended_annual_demand_charges_us_dollars_per_kw": 0.0, "blended_annual_rates_us_dollars_per_kwh": 0.0, "blended_monthly_rates_us_dollars_per_kwh": [0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2]}, "longitude": -118.0, "address": "", "latitude": 34.5794343, "Financial": {"escalation_pct": 0.006, "offtaker_discount_pct": 0.07, "value_of_lost_load_us_dollars_per_kwh": 100.0, "analysis_years": 25, "microgrid_upgrade_cost_pct": 0.3, "offtaker_tax_pct": 0.0, "om_cost_escalation_pct": 0.001}, "Wind": {"pbi_years": 1.0, "macrs_bonus_pct": 0.0, "max_kw": 0.0, "pbi_max_us_dollars": 1000000000.0, "wind_meters_per_sec": None, "state_ibi_pct": 0.0, "state_rebate_us_dollars_per_kw": 0.0, "installed_cost_us_dollars_per_kw": 3013.0, "utility_ibi_max_us_dollars": 10000000000.0, "pressure_atmospheres": None, "pbi_system_max_kw": 1000000000.0, "utility_ibi_pct": 0.0, "state_ibi_max_us_dollars": 10000000000.0, "wind_direction_degrees": None, "utility_rebate_max_us_dollars": 10000000000.0, "macrs_option_years": 5, "state_rebate_max_us_dollars": 10000000000.0, "federal_itc_pct": 0.3, "temperature_celsius": None, "pbi_us_dollars_per_kwh": 0.0, "om_cost_us_dollars_per_kw": 35.0, "utility_rebate_us_dollars_per_kw": 0.0, "min_kw": 0.0, "macrs_itc_reduction": 0.5, "federal_rebate_us_dollars_per_kw": 0.0}}, "time_steps_per_hour": 1, "user_uuid": None}}

        resp = self.get_response(data=critical_post)
        self.assertHttpCreated(resp)
        r = json.loads(resp.content)
        run_uuid_1 = r.get('run_uuid')
        d = ModelManager.make_response(run_uuid=run_uuid_1)
        c = nested_to_flat(d['outputs'])

        d_expected = dict()
        d_expected['lcc'] = c['lcc']
        d_expected['lcc_bau'] = c['lcc_bau']
        d_expected['npv'] = c['npv']
        d_expected['pv_kw'] = c['pv_kw']
        d_expected['batt_kw'] = c['batt_kw']
        d_expected['batt_kwh'] = c['batt_kwh']
        d_expected['net_capital_costs_plus_om'] = c['net_capital_costs_plus_om']

        # determine the adjustment for existing pv and add it to the input as net critical load
        loads_kw = critical_post['Scenario']['Site']['LoadProfile']['loads_kw']
        critical_load_series_kw = d['outputs']['Scenario']['Site']['LoadProfile']['critical_load_series_kw']
        pv_adjustment = [ ( b / critical_load_pct ) - a for a, b in zip(loads_kw, critical_load_series_kw)]
        critical_post['Scenario']['Site']['LoadProfile']['critical_loads_kw_is_net'] = True
        critical_post['Scenario']['Site']['LoadProfile']['critical_loads_kw'] = \
            [a - b for a, b in zip(critical_load_series_kw, pv_adjustment)]

        # critical_loads_kw should override critical_load_pct
        critical_post['Scenario']['Site']['LoadProfile']['critical_load_pct'] = 0

        resp = self.get_response(data=critical_post)
        self.assertHttpCreated(resp)
        r = json.loads(resp.content)
        run_uuid_2 = r.get('run_uuid')
        d = ModelManager.make_response(run_uuid=run_uuid_2)


        c = nested_to_flat(d['outputs'])
        try:
            check_common_outputs(self, c, d_expected)
        except:
            print("The results do not agree for scenarios {} and {}. Check the Outputs folders."
                  .format(run_uuid_1, run_uuid_2))
            print("Error message: {}".format(d['messages'].get('error')))
            raise

    def test_complex_incentives(self):
        """
        Tests scenario where: PV has ITC, federal, state, local rebate with maxes, MACRS, bonus, Battery has ITC,
        rebate, MACRS, bonus.
        :return: None
        """
        data = {
        "Scenario": {"webtool_uuid": None, "description": "", "timeout_seconds": 295, "Site": {
            "roof_squarefeet": 5000.0, "longitude": -118.1164613, "address": "", "latitude": 34.5794343,
            "time_steps_per_hour": 1, "user_uuid": None,
            "PV": {"pbi_years": 1.0, "macrs_bonus_pct": 0.4, "max_kw": 1000000000.0, "pbi_max_us_dollars": 1000000000.0, "radius": 0.0, "state_ibi_pct": 0.2, "utility_rebate_max_us_dollars": 10000000000.0, "installed_cost_us_dollars_per_kw": 2000.0, "utility_ibi_max_us_dollars": 10000.0, "tilt": 34.5794343, "federal_rebate_us_dollars_per_kw": 100.0, "gcr": 0.4, "pbi_system_max_kw": 10.0, "utility_ibi_pct": 0.1, "state_ibi_max_us_dollars": 10000.0, "state_rebate_us_dollars_per_kw": 200.0, "macrs_option_years": 5, "state_rebate_max_us_dollars": 10000000000.0, "dc_ac_ratio": 1.1, "federal_itc_pct": 0.3, "pbi_us_dollars_per_kwh": 0.0, "module_type": 1, "array_type": 1, "existing_kw": 0.0, "om_cost_us_dollars_per_kw": 16.0, "utility_rebate_us_dollars_per_kw": 50.0, "min_kw": 0.0, "losses": 0.14, "macrs_itc_reduction": 0.5, "degradation_pct": 0.005, "inv_eff": 0.96, "azimuth": 180.0},
            "Generator": {"pbi_years": 0.0, "macrs_bonus_pct": 0.0, "om_cost_us_dollars_per_kwh": 0.01, "max_kw": 100000000.0, "pbi_max_us_dollars": 0.0, "state_ibi_pct": 0.0, "fuel_intercept_gal_per_hr": 0.0125, "generator_only_runs_during_grid_outage": True, "state_rebate_us_dollars_per_kw": 0.0, "installed_cost_us_dollars_per_kw": 600.0, "utility_ibi_max_us_dollars": 0.0, "fuel_avail_gal": 1000000000.0, "min_turn_down_pct": 0.0, "pbi_system_max_kw": 0.0, "utility_ibi_pct": 0.0, "state_ibi_max_us_dollars": 0.0, "diesel_fuel_cost_us_dollars_per_gallon": 3.0, "fuel_slope_gal_per_kwh": 0.068, "utility_rebate_max_us_dollars": 0.0, "macrs_option_years": 0, "state_rebate_max_us_dollars": 0.0, "federal_itc_pct": 0.0, "existing_kw": 0.0, "pbi_us_dollars_per_kwh": 0.0, "om_cost_us_dollars_per_kw": 10.0, "utility_rebate_us_dollars_per_kw": 0.0, "min_kw": 0.0, "macrs_itc_reduction": 0.0, "federal_rebate_us_dollars_per_kw": 0.0, "generator_sells_energy_back_to_grid": False},
            "LoadProfile": {"critical_loads_kw_is_net": False, "critical_load_pct": 0.5, "loads_kw_is_net": True, "loads_kw": [], "outage_end_time_step": None, "monthly_totals_kwh": [], "year": 2017, "outage_start_time_step": None, "outage_is_major_event": True, "critical_loads_kw": [], "doe_reference_name": "RetailStore", "annual_kwh": 10000000.0},
            "Storage": {"max_kwh": 1000000.0, "rectifier_efficiency_pct": 0.96, "total_itc_pct": 0.0, "min_kw": 0.0, "max_kw": 1000000.0, "replace_cost_us_dollars_per_kw": 460.0, "replace_cost_us_dollars_per_kwh": 230.0, "min_kwh": 0.0, "installed_cost_us_dollars_per_kw": 1000.0, "total_rebate_us_dollars_per_kw": 100, "installed_cost_us_dollars_per_kwh": 500.0, "inverter_efficiency_pct": 0.96, "macrs_itc_reduction": 0.5, "canGridCharge": True, "macrs_bonus_pct": 0.4, "battery_replacement_year": 10, "macrs_option_years": 5, "internal_efficiency_pct": 0.975, "soc_min_pct": 0.2, "soc_init_pct": 0.5, "inverter_replacement_year": 10}, "land_acres": 1.0,
            "ElectricTariff": {"add_blended_rates_to_urdb_rate": False, "wholesale_rate_us_dollars_per_kwh": 0.0, "net_metering_limit_kw": 0.0, "interconnection_limit_kw": 100000000.0, "urdb_utility_name": "SouthernCaliforniaEdisonCo", "urdb_label": "", "wholesale_rate_above_site_load_us_dollars_per_kwh": 0.0, "urdb_rate_name": "TimeofUse,GeneralService,DemandMetered,OptionB:GS-2TOUB,SinglePhase", "urdb_response": {"sector": "Commercial", "peakkwcapacitymax": 200, "utility": "SouthernCaliforniaEdisonCo", "peakkwcapacityhistory": 12, "energyratestructure": [[{"rate": 0.0712, "unit": "kWh"}], [{"rate": 0.09368, "unit": "kWh"}], [{"rate": 0.066, "unit": "kWh"}], [{"rate": 0.08888, "unit": "kWh"}], [{"rate": 0.1355, "unit": "kWh"}]], "energyweekendschedule": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], "demandweekendschedule": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], "demandrateunit": "kW", "flatdemandstructure": [[{"rate": 13.2}]], "startdate": 1433116800, "phasewiring": "SinglePhase", "eiaid": 17609, "label": "55fc81d7682bea28da64f9ae", "flatdemandunit": "kW", "source": "http://www.sce.com/NR/sc3/tm2/pdf/ce30-12.pdf", "voltagecategory": "Primary", "revisions": [1433408708, 1433409358, 1433516188, 1441198316, 1441199318, 1441199417, 1441199824, 1441199996, 1454521683], "demandweekdayschedule": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], "voltageminimum": 2000, "description": "-Energytieredcharge=generationcharge+deliverycharge\\r\\n\\r\\n-Timeofdaydemandcharges(generation-based)aretobeaddedtothemonthlydemandcharge(Deliverybased).", "energyattrs": [{"VoltageDiscount(2KV-<50KV)": "$-0.00106/Kwh"}, {"VoltageDiscount(>50KV<220KV)": "$-0.00238/Kwh"}, {"VoltageDiscountat220KV": "$-0.0024/Kwh"}, {"CaliforniaClimatecredit": "$-0.00669/kwh"}], "energyweekdayschedule": [[0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2], [2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2], [2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2], [2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0]], "flatdemandmonths": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], "approved": True, "fixedmonthlycharge": 259.2, "enddate": 1451520000, "name": "TimeofUse,GeneralService,DemandMetered,OptionB:GS-2TOUB,SinglePhase", "country": "USA", "uri": "http://en.openei.org/apps/IURDB/rate/view/55fc81d7682bea28da64f9ae", "voltagemaximum": 50000, "peakkwcapacitymin": 20, "demandattrs": [{"FaciltiesVoltageDiscount(2KV-<50KV)": "$-0.18/KW"}, {"FaciltiesVoltageDiscount>50kV-<220kV": "$-5.78/KW"}, {"FaciltiesVoltageDiscount>220kV": "$-9.96/KW"}, {"TimeVoltageDiscount(2KV-<50KV)": "$-0.70/KW"}, {"TimeVoltageDiscount>50kV-<220kV": "$-1.93/KW"}, {"TimeVoltageDiscount>220kV": "$-1.95/KW"}], "demandratestructure": [[{"rate": 0}], [{"rate": 5.3}], [{"rate": 18.11}]]}, "blended_annual_demand_charges_us_dollars_per_kw": 0.0, "blended_annual_rates_us_dollars_per_kwh": 0.0},
            "Financial": {"escalation_pct": 0.026, "offtaker_discount_pct": 0.081, "value_of_lost_load_us_dollars_per_kwh": 100.0, "analysis_years": 20, "microgrid_upgrade_cost_pct": 0.3, "offtaker_tax_pct": 0.4, "om_cost_escalation_pct": 0.025},
            "Wind": {"max_kw": 0.0}
        }}}
        resp = self.get_response(data=data)
        self.assertHttpCreated(resp)
        r = json.loads(resp.content)
        run_uuid = r.get('run_uuid')
        d = ModelManager.make_response(run_uuid=run_uuid)
        c = nested_to_flat(d['outputs'])

        d_expected = dict()
        d_expected['lcc'] = 10971985
        d_expected['npv'] = 11257165 - d_expected['lcc']
        d_expected['pv_kw'] = 216.667
        d_expected['batt_kw'] = 29.7892
        d_expected['batt_kwh'] = 39.282
        d_expected['year_one_utility_kwh'] = 9613008.53

        try:
            check_common_outputs(self, c, d_expected)
        except:
            print("Run {} expected outputs may have changed. Check the Outputs folder.".format(run_uuid))
            print("Error message: {}".format(d['messages'].get('error')))
            raise

    def test_negative_loads(self):
        """
        Ensure that all loads are positive for loads_kw and critical_loads_kw
        :return:
        """

        #Puts -1 for all loads_kw values - leaves criticial_loads_kw blank
        nested_data = {"Scenario": {"webtool_uuid": None, "description": "", "timeout_seconds": 295, "Site": {"PV": {"pbi_years": 1.0, "macrs_bonus_pct": 0.4, "max_kw": 1000000000.0, "pbi_max_us_dollars": 1000000000.0, "radius": 0.0, "state_ibi_pct": 0.0, "utility_rebate_max_us_dollars": 10000000000.0, "installed_cost_us_dollars_per_kw": 2000.0, "utility_ibi_max_us_dollars": 10000000000.0, "tilt": 34.5794343, "federal_rebate_us_dollars_per_kw": 0.0, "gcr": 0.4, "pbi_system_max_kw": 1000000000.0, "utility_ibi_pct": 0.0, "state_ibi_max_us_dollars": 10000000000.0, "state_rebate_us_dollars_per_kw": 0.0, "macrs_option_years": 5, "state_rebate_max_us_dollars": 10000000000.0, "dc_ac_ratio": 1.1, "federal_itc_pct": 0.3, "pbi_us_dollars_per_kwh": 0.0, "module_type": 1, "array_type": 1, "existing_kw": 0.0, "om_cost_us_dollars_per_kw": 16.0, "utility_rebate_us_dollars_per_kw": 0.0, "min_kw": 0.0, "losses": 0.14, "macrs_itc_reduction": 0.5, "degradation_pct": 0.005, "inv_eff": 0.96, "azimuth": 180.0}, "Generator": {"pbi_years": 0.0, "macrs_bonus_pct": 0.0, "om_cost_us_dollars_per_kwh": 0.01, "max_kw": 0.0, "pbi_max_us_dollars": 0.0, "state_ibi_pct": 0.0, "fuel_intercept_gal_per_hr": 0.0, "generator_only_runs_during_grid_outage": True, "state_rebate_us_dollars_per_kw": 0.0, "installed_cost_us_dollars_per_kw": 600.0, "utility_ibi_max_us_dollars": 0.0, "fuel_avail_gal": 1000000000.0, "min_turn_down_pct": 0.0, "pbi_system_max_kw": 0.0, "utility_ibi_pct": 0.0, "state_ibi_max_us_dollars": 0.0, "diesel_fuel_cost_us_dollars_per_gallon": 3.0, "fuel_slope_gal_per_kwh": 0.0, "utility_rebate_max_us_dollars": 0.0, "macrs_option_years": 0, "state_rebate_max_us_dollars": 0.0, "federal_itc_pct": 0.0, "existing_kw": 0.0, "pbi_us_dollars_per_kwh": 0.0, "om_cost_us_dollars_per_kw": 10.0, "utility_rebate_us_dollars_per_kw": 0.0, "min_kw": 0.0, "macrs_itc_reduction": 0.0, "federal_rebate_us_dollars_per_kw": 0.0, "generator_sells_energy_back_to_grid": False}, "LoadProfile": {"critical_loads_kw_is_net": False, "critical_load_pct": 1.0, "loads_kw_is_net": False, "loads_kw": [-1 for _ in range(8760)], "outage_end_time_step": None, "monthly_totals_kwh": [], "year": 2017, "outage_start_time_step": None, "outage_is_major_event": True, "critical_loads_kw": []}, "roof_squarefeet": 5000.0, "Storage": {"max_kwh": 1000000.0, "rectifier_efficiency_pct": 0.96, "total_itc_pct": 0.0, "min_kw": 0.0, "max_kw": 1000000.0, "replace_cost_us_dollars_per_kw": 460.0, "replace_cost_us_dollars_per_kwh": 230.0, "min_kwh": 0.0, "installed_cost_us_dollars_per_kw": 1000.0, "total_rebate_us_dollars_per_kw": 0, "installed_cost_us_dollars_per_kwh": 500.0, "inverter_efficiency_pct": 0.96, "macrs_itc_reduction": 0.5, "canGridCharge": True, "macrs_bonus_pct": 0.4, "battery_replacement_year": 10, "macrs_option_years": 5, "internal_efficiency_pct": 0.975, "soc_min_pct": 0.2, "soc_init_pct": 0.5, "inverter_replacement_year": 10}, "land_acres": 1.0, "ElectricTariff": {"add_blended_rates_to_urdb_rate": False, "wholesale_rate_us_dollars_per_kwh": 0.0, "net_metering_limit_kw": 0.0, "interconnection_limit_kw": 100000000.0, "blended_monthly_demand_charges_us_dollars_per_kw": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "urdb_utility_name": "Southern California Edison Co", "urdb_label": "", "wholesale_rate_above_site_load_us_dollars_per_kwh": 0.0, "urdb_rate_name": "Time of Use, General Service, Demand Metered, Option B: GS-2 TOU B, Single Phase", "urdb_response": {"sector": "Commercial", "peakkwcapacitymax": 200, "utility": "Southern California Edison Co", "peakkwcapacityhistory": 12, "energyratestructure": [[{"rate": 0.0712, "unit": "kWh"}], [{"rate": 0.09368, "unit": "kWh"}], [{"rate": 0.066, "unit": "kWh"}], [{"rate": 0.08888, "unit": "kWh"}], [{"rate": 0.1355, "unit": "kWh"}]], "energyweekendschedule": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], "demandweekendschedule": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], "demandrateunit": "kW", "flatdemandstructure": [[{"rate": 13.2}]], "startdate": 1433116800, "phasewiring": "Single Phase", "eiaid": 17609, "label": "55fc81d7682bea28da64f9ae", "flatdemandunit": "kW", "source": "http://www.sce.com/NR/sc3/tm2/pdf/ce30-12.pdf", "voltagecategory": "Primary", "revisions": [1433408708, 1433409358, 1433516188, 1441198316, 1441199318, 1441199417, 1441199824, 1441199996, 1454521683], "demandweekdayschedule": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], "voltageminimum": 2000, "description": "- Energy tiered charge = generation charge + delivery charge\\r\\n\\r\\n- Time of day demand charges (generation-based) are to be added to the monthly demand charge(Delivery based).", "energyattrs": [{"Voltage Discount (2KV-<50KV)": "$-0.00106/Kwh"}, {"Voltage Discount (>50 KV<220 KV)": "$-0.00238/Kwh"}, {"Voltage Discount at 220 KV": "$-0.0024/Kwh"}, {"California Climate credit": "$-0.00669/kwh"}], "energyweekdayschedule": [[0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2], [2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2], [2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2], [2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0]], "flatdemandmonths": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], "approved": True, "fixedmonthlycharge": 259.2, "enddate": 1451520000, "name": "Time of Use, General Service, Demand Metered, Option B: GS-2 TOU B, Single Phase", "country": "USA", "uri": "http://en.openei.org/apps/IURDB/rate/view/55fc81d7682bea28da64f9ae", "voltagemaximum": 50000, "peakkwcapacitymin": 20, "demandattrs": [{"Facilties Voltage Discount (2KV-<50KV)": "$-0.18/KW"}, {"Facilties Voltage Discount >50 kV-<220kV": "$-5.78/KW"}, {"Facilties Voltage Discount >220 kV": "$-9.96/KW"}, {"Time Voltage Discount (2KV-<50KV)": "$-0.70/KW"}, {"Time Voltage Discount >50 kV-<220kV": "$-1.93/KW"}, {"Time Voltage Discount >220 kV": "$-1.95/KW"}], "demandratestructure": [[{"rate": 0}], [{"rate": 5.3}], [{"rate": 18.11}]]}, "blended_annual_demand_charges_us_dollars_per_kw": 0.0, "blended_annual_rates_us_dollars_per_kwh": 0.0, "blended_monthly_rates_us_dollars_per_kwh": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]}, "longitude": -118.1164613, "address": "", "latitude": 34.5794343, "Financial": {"escalation_pct": 0.026, "offtaker_discount_pct": 0.081, "value_of_lost_load_us_dollars_per_kwh": 100.0, "analysis_years": 20, "microgrid_upgrade_cost_pct": 0.3, "offtaker_tax_pct": 0.4, "om_cost_escalation_pct": 0.025}, "Wind": {"pbi_years": 1.0, "macrs_bonus_pct": 0.0, "max_kw": 0.0, "pbi_max_us_dollars": 1000000000.0, "wind_meters_per_sec": None, "state_ibi_pct": 0.0, "state_rebate_us_dollars_per_kw": 0.0, "installed_cost_us_dollars_per_kw": 3013.0, "utility_ibi_max_us_dollars": 10000000000.0, "pressure_atmospheres": None, "pbi_system_max_kw": 1000000000.0, "utility_ibi_pct": 0.0, "state_ibi_max_us_dollars": 10000000000.0, "wind_direction_degrees": None, "utility_rebate_max_us_dollars": 10000000000.0, "macrs_option_years": 5, "state_rebate_max_us_dollars": 10000000000.0, "federal_itc_pct": 0.3, "temperature_celsius": None, "pbi_us_dollars_per_kwh": 0.0, "om_cost_us_dollars_per_kw": 35.0, "utility_rebate_us_dollars_per_kw": 0.0, "min_kw": 0.0, "macrs_itc_reduction": 0.5, "federal_rebate_us_dollars_per_kw": 0.0}}, "time_steps_per_hour": 1, "user_uuid": None}}
        resp = self.get_response(data=nested_data)
        self.assertIn('loads_kw must contain loads greater than or equal to zero.', str(resp.content))

        #Puts -1 for all critical_loads_kw values and 1 in for all loads_kw

        nested_data = {"Scenario": {"webtool_uuid": None, "description": "", "timeout_seconds": 295, "Site": {"PV": {"pbi_years": 1.0, "macrs_bonus_pct": 0.4, "max_kw": 1000000000.0, "pbi_max_us_dollars": 1000000000.0, "radius": 0.0, "state_ibi_pct": 0.0, "utility_rebate_max_us_dollars": 10000000000.0, "installed_cost_us_dollars_per_kw": 2000.0, "utility_ibi_max_us_dollars": 10000000000.0, "tilt": 34.5794343, "federal_rebate_us_dollars_per_kw": 0.0, "gcr": 0.4, "pbi_system_max_kw": 1000000000.0, "utility_ibi_pct": 0.0, "state_ibi_max_us_dollars": 10000000000.0, "state_rebate_us_dollars_per_kw": 0.0, "macrs_option_years": 5, "state_rebate_max_us_dollars": 10000000000.0, "dc_ac_ratio": 1.1, "federal_itc_pct": 0.3, "pbi_us_dollars_per_kwh": 0.0, "module_type": 1, "array_type": 1, "existing_kw": 0.0, "om_cost_us_dollars_per_kw": 16.0, "utility_rebate_us_dollars_per_kw": 0.0, "min_kw": 0.0, "losses": 0.14, "macrs_itc_reduction": 0.5, "degradation_pct": 0.005, "inv_eff": 0.96, "azimuth": 180.0}, "Generator": {"pbi_years": 0.0, "macrs_bonus_pct": 0.0, "om_cost_us_dollars_per_kwh": 0.01, "max_kw": 0.0, "pbi_max_us_dollars": 0.0, "state_ibi_pct": 0.0, "fuel_intercept_gal_per_hr": 0.0, "generator_only_runs_during_grid_outage": True, "state_rebate_us_dollars_per_kw": 0.0, "installed_cost_us_dollars_per_kw": 600.0, "utility_ibi_max_us_dollars": 0.0, "fuel_avail_gal": 1000000000.0, "min_turn_down_pct": 0.0, "pbi_system_max_kw": 0.0, "utility_ibi_pct": 0.0, "state_ibi_max_us_dollars": 0.0, "diesel_fuel_cost_us_dollars_per_gallon": 3.0, "fuel_slope_gal_per_kwh": 0.0, "utility_rebate_max_us_dollars": 0.0, "macrs_option_years": 0, "state_rebate_max_us_dollars": 0.0, "federal_itc_pct": 0.0, "existing_kw": 0.0, "pbi_us_dollars_per_kwh": 0.0, "om_cost_us_dollars_per_kw": 10.0, "utility_rebate_us_dollars_per_kw": 0.0, "min_kw": 0.0, "macrs_itc_reduction": 0.0, "federal_rebate_us_dollars_per_kw": 0.0, "generator_sells_energy_back_to_grid": False}, "LoadProfile": {"critical_loads_kw_is_net": False, "critical_load_pct": 1.0, "loads_kw_is_net": False, "loads_kw": [1 for _ in range(8760)], "outage_end_time_step": None, "monthly_totals_kwh": [], "year": 2017, "outage_start_time_step": None, "outage_is_major_event": True, "critical_loads_kw": [-1 for _ in range(8760)]}, "roof_squarefeet": 5000.0, "Storage": {"max_kwh": 1000000.0, "rectifier_efficiency_pct": 0.96, "total_itc_pct": 0.0, "min_kw": 0.0, "max_kw": 1000000.0, "replace_cost_us_dollars_per_kw": 460.0, "replace_cost_us_dollars_per_kwh": 230.0, "min_kwh": 0.0, "installed_cost_us_dollars_per_kw": 1000.0, "total_rebate_us_dollars_per_kw": 0, "installed_cost_us_dollars_per_kwh": 500.0, "inverter_efficiency_pct": 0.96, "macrs_itc_reduction": 0.5, "canGridCharge": True, "macrs_bonus_pct": 0.4, "battery_replacement_year": 10, "macrs_option_years": 5, "internal_efficiency_pct": 0.975, "soc_min_pct": 0.2, "soc_init_pct": 0.5, "inverter_replacement_year": 10}, "land_acres": 1.0, "ElectricTariff": {"add_blended_rates_to_urdb_rate": False, "wholesale_rate_us_dollars_per_kwh": 0.0, "net_metering_limit_kw": 0.0, "interconnection_limit_kw": 100000000.0, "blended_monthly_demand_charges_us_dollars_per_kw": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "urdb_utility_name": "Southern California Edison Co", "urdb_label": "", "wholesale_rate_above_site_load_us_dollars_per_kwh": 0.0, "urdb_rate_name": "Time of Use, General Service, Demand Metered, Option B: GS-2 TOU B, Single Phase", "urdb_response": {"sector": "Commercial", "peakkwcapacitymax": 200, "utility": "Southern California Edison Co", "peakkwcapacityhistory": 12, "energyratestructure": [[{"rate": 0.0712, "unit": "kWh"}], [{"rate": 0.09368, "unit": "kWh"}], [{"rate": 0.066, "unit": "kWh"}], [{"rate": 0.08888, "unit": "kWh"}], [{"rate": 0.1355, "unit": "kWh"}]], "energyweekendschedule": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], "demandweekendschedule": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], "demandrateunit": "kW", "flatdemandstructure": [[{"rate": 13.2}]], "startdate": 1433116800, "phasewiring": "Single Phase", "eiaid": 17609, "label": "55fc81d7682bea28da64f9ae", "flatdemandunit": "kW", "source": "http://www.sce.com/NR/sc3/tm2/pdf/ce30-12.pdf", "voltagecategory": "Primary", "revisions": [1433408708, 1433409358, 1433516188, 1441198316, 1441199318, 1441199417, 1441199824, 1441199996, 1454521683], "demandweekdayschedule": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], "voltageminimum": 2000, "description": "- Energy tiered charge = generation charge + delivery charge\\r\\n\\r\\n- Time of day demand charges (generation-based) are to be added to the monthly demand charge(Delivery based).", "energyattrs": [{"Voltage Discount (2KV-<50KV)": "$-0.00106/Kwh"}, {"Voltage Discount (>50 KV<220 KV)": "$-0.00238/Kwh"}, {"Voltage Discount at 220 KV": "$-0.0024/Kwh"}, {"California Climate credit": "$-0.00669/kwh"}], "energyweekdayschedule": [[0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2], [2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2], [2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2], [2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0]], "flatdemandmonths": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], "approved": True, "fixedmonthlycharge": 259.2, "enddate": 1451520000, "name": "Time of Use, General Service, Demand Metered, Option B: GS-2 TOU B, Single Phase", "country": "USA", "uri": "http://en.openei.org/apps/IURDB/rate/view/55fc81d7682bea28da64f9ae", "voltagemaximum": 50000, "peakkwcapacitymin": 20, "demandattrs": [{"Facilties Voltage Discount (2KV-<50KV)": "$-0.18/KW"}, {"Facilties Voltage Discount >50 kV-<220kV": "$-5.78/KW"}, {"Facilties Voltage Discount >220 kV": "$-9.96/KW"}, {"Time Voltage Discount (2KV-<50KV)": "$-0.70/KW"}, {"Time Voltage Discount >50 kV-<220kV": "$-1.93/KW"}, {"Time Voltage Discount >220 kV": "$-1.95/KW"}], "demandratestructure": [[{"rate": 0}], [{"rate": 5.3}], [{"rate": 18.11}]]}, "blended_annual_demand_charges_us_dollars_per_kw": 0.0, "blended_annual_rates_us_dollars_per_kwh": 0.0, "blended_monthly_rates_us_dollars_per_kwh": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]}, "longitude": -118.1164613, "address": "", "latitude": 34.5794343, "Financial": {"escalation_pct": 0.026, "offtaker_discount_pct": 0.081, "value_of_lost_load_us_dollars_per_kwh": 100.0, "analysis_years": 20, "microgrid_upgrade_cost_pct": 0.3, "offtaker_tax_pct": 0.4, "om_cost_escalation_pct": 0.025}, "Wind": {"pbi_years": 1.0, "macrs_bonus_pct": 0.0, "max_kw": 0.0, "pbi_max_us_dollars": 1000000000.0, "wind_meters_per_sec": None, "state_ibi_pct": 0.0, "state_rebate_us_dollars_per_kw": 0.0, "installed_cost_us_dollars_per_kw": 3013.0, "utility_ibi_max_us_dollars": 10000000000.0, "pressure_atmospheres": None, "pbi_system_max_kw": 1000000000.0, "utility_ibi_pct": 0.0, "state_ibi_max_us_dollars": 10000000000.0, "wind_direction_degrees": None, "utility_rebate_max_us_dollars": 10000000000.0, "macrs_option_years": 5, "state_rebate_max_us_dollars": 10000000000.0, "federal_itc_pct": 0.3, "temperature_celsius": None, "pbi_us_dollars_per_kwh": 0.0, "om_cost_us_dollars_per_kw": 35.0, "utility_rebate_us_dollars_per_kw": 0.0, "min_kw": 0.0, "macrs_itc_reduction": 0.5, "federal_rebate_us_dollars_per_kw": 0.0}}, "time_steps_per_hour": 1, "user_uuid": None}}
        resp = self.get_response(data=nested_data)
        self.assertIn('critical_loads_kw must contain loads greater than or equal to zero.', str(resp.content))

    def test_pv_and_battery_scenario(self):

        nested_data = {"Scenario": {"webtool_uuid": None, "description": "", "timeout_seconds": 295, "Site": {"PV": {"pbi_years": 1.0, "macrs_bonus_pct": 0.4, "max_kw": 1000000000.0, "pbi_max_us_dollars": 1000000000.0, "radius": 0.0, "state_ibi_pct": 0.0, "utility_rebate_max_us_dollars": 10000000000.0, "installed_cost_us_dollars_per_kw": 2000.0, "utility_ibi_max_us_dollars": 10000000000.0, "tilt": 34.5794343, "federal_rebate_us_dollars_per_kw": 0.0, "gcr": 0.4, "pbi_system_max_kw": 1000000000.0, "utility_ibi_pct": 0.0, "state_ibi_max_us_dollars": 10000000000.0, "state_rebate_us_dollars_per_kw": 0.0, "macrs_option_years": 5, "state_rebate_max_us_dollars": 10000000000.0, "dc_ac_ratio": 1.1, "federal_itc_pct": 0.3, "pbi_us_dollars_per_kwh": 0.0, "module_type": 1, "array_type": 1, "existing_kw": 0.0, "om_cost_us_dollars_per_kw": 16.0, "utility_rebate_us_dollars_per_kw": 0.0, "min_kw": 0.0, "losses": 0.14, "macrs_itc_reduction": 0.5, "degradation_pct": 0.005, "inv_eff": 0.96, "azimuth": 180.0}, "Generator": {"pbi_years": 0.0, "macrs_bonus_pct": 0.0, "om_cost_us_dollars_per_kwh": 0.01, "max_kw": 0.0, "pbi_max_us_dollars": 0.0, "state_ibi_pct": 0.0, "fuel_intercept_gal_per_hr": 0.0, "generator_only_runs_during_grid_outage": True, "state_rebate_us_dollars_per_kw": 0.0, "installed_cost_us_dollars_per_kw": 600.0, "utility_ibi_max_us_dollars": 0.0, "fuel_avail_gal": 1000000000.0, "min_turn_down_pct": 0.0, "pbi_system_max_kw": 0.0, "utility_ibi_pct": 0.0, "state_ibi_max_us_dollars": 0.0, "diesel_fuel_cost_us_dollars_per_gallon": 3.0, "fuel_slope_gal_per_kwh": 0.0, "utility_rebate_max_us_dollars": 0.0, "macrs_option_years": 0, "state_rebate_max_us_dollars": 0.0, "federal_itc_pct": 0.0, "existing_kw": 0.0, "pbi_us_dollars_per_kwh": 0.0, "om_cost_us_dollars_per_kw": 10.0, "utility_rebate_us_dollars_per_kw": 0.0, "min_kw": 0.0, "macrs_itc_reduction": 0.0, "federal_rebate_us_dollars_per_kw": 0.0, "generator_sells_energy_back_to_grid": False}, "LoadProfile": {"critical_loads_kw_is_net": False, "critical_load_pct": 1.0, "loads_kw_is_net": True, "loads_kw": [], "outage_end_time_step": None, "monthly_totals_kwh": [], "year": 2017, "outage_start_time_step": None, "outage_is_major_event": True, "critical_loads_kw": [], "doe_reference_name": "RetailStore", "annual_kwh": 10000000.0}, "roof_squarefeet": 5000.0, "Storage": {"max_kwh": 1000000.0, "rectifier_efficiency_pct": 0.96, "total_itc_pct": 0.0, "min_kw": 0.0, "max_kw": 1000000.0, "replace_cost_us_dollars_per_kw": 460.0, "replace_cost_us_dollars_per_kwh": 230.0, "min_kwh": 0.0, "installed_cost_us_dollars_per_kw": 1000.0, "total_rebate_us_dollars_per_kw": 0, "installed_cost_us_dollars_per_kwh": 500.0, "inverter_efficiency_pct": 0.96, "macrs_itc_reduction": 0.5, "canGridCharge": True, "macrs_bonus_pct": 0.4, "battery_replacement_year": 10, "macrs_option_years": 5, "internal_efficiency_pct": 0.975, "soc_min_pct": 0.2, "soc_init_pct": 0.5, "inverter_replacement_year": 10}, "land_acres": 1.0, "ElectricTariff": {"add_blended_rates_to_urdb_rate": False, "wholesale_rate_us_dollars_per_kwh": 0.0, "net_metering_limit_kw": 0.0, "interconnection_limit_kw": 100000000.0, "blended_monthly_demand_charges_us_dollars_per_kw": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "urdb_utility_name": "Southern California Edison Co", "urdb_label": "", "wholesale_rate_above_site_load_us_dollars_per_kwh": 0.0, "urdb_rate_name": "Time of Use, General Service, Demand Metered, Option B: GS-2 TOU B, Single Phase", "urdb_response": {"sector": "Commercial", "peakkwcapacitymax": 200, "utility": "Southern California Edison Co", "peakkwcapacityhistory": 12, "energyratestructure": [[{"rate": 0.0712, "unit": "kWh"}], [{"rate": 0.09368, "unit": "kWh"}], [{"rate": 0.066, "unit": "kWh"}], [{"rate": 0.08888, "unit": "kWh"}], [{"rate": 0.1355, "unit": "kWh"}]], "energyweekendschedule": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], "demandweekendschedule": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], "demandrateunit": "kW", "flatdemandstructure": [[{"rate": 13.2}]], "startdate": 1433116800, "phasewiring": "Single Phase", "eiaid": 17609, "label": "55fc81d7682bea28da64f9ae", "flatdemandunit": "kW", "source": "http://www.sce.com/NR/sc3/tm2/pdf/ce30-12.pdf", "voltagecategory": "Primary", "revisions": [1433408708, 1433409358, 1433516188, 1441198316, 1441199318, 1441199417, 1441199824, 1441199996, 1454521683], "demandweekdayschedule": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], "voltageminimum": 2000, "description": "- Energy tiered charge = generation charge + delivery charge\\r\\n\\r\\n- Time of day demand charges (generation-based) are to be added to the monthly demand charge(Delivery based).", "energyattrs": [{"Voltage Discount (2KV-<50KV)": "$-0.00106/Kwh"}, {"Voltage Discount (>50 KV<220 KV)": "$-0.00238/Kwh"}, {"Voltage Discount at 220 KV": "$-0.0024/Kwh"}, {"California Climate credit": "$-0.00669/kwh"}], "energyweekdayschedule": [[0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2], [2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2], [2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2], [2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0]], "flatdemandmonths": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], "approved": True, "fixedmonthlycharge": 259.2, "enddate": 1451520000, "name": "Time of Use, General Service, Demand Metered, Option B: GS-2 TOU B, Single Phase", "country": "USA", "uri": "http://en.openei.org/apps/IURDB/rate/view/55fc81d7682bea28da64f9ae", "voltagemaximum": 50000, "peakkwcapacitymin": 20, "demandattrs": [{"Facilties Voltage Discount (2KV-<50KV)": "$-0.18/KW"}, {"Facilties Voltage Discount >50 kV-<220kV": "$-5.78/KW"}, {"Facilties Voltage Discount >220 kV": "$-9.96/KW"}, {"Time Voltage Discount (2KV-<50KV)": "$-0.70/KW"}, {"Time Voltage Discount >50 kV-<220kV": "$-1.93/KW"}, {"Time Voltage Discount >220 kV": "$-1.95/KW"}], "demandratestructure": [[{"rate": 0}], [{"rate": 5.3}], [{"rate": 18.11}]]}, "blended_annual_demand_charges_us_dollars_per_kw": 0.0, "blended_annual_rates_us_dollars_per_kwh": 0.0, "blended_monthly_rates_us_dollars_per_kwh": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]}, "longitude": -118.1164613, "address": "", "latitude": 34.5794343, "Financial": {"escalation_pct": 0.026, "offtaker_discount_pct": 0.081, "value_of_lost_load_us_dollars_per_kwh": 100.0, "analysis_years": 20, "microgrid_upgrade_cost_pct": 0.3, "offtaker_tax_pct": 0.4, "om_cost_escalation_pct": 0.025}, "Wind": {"pbi_years": 1.0, "macrs_bonus_pct": 0.0, "max_kw": 0.0, "pbi_max_us_dollars": 1000000000.0, "wind_meters_per_sec": None, "state_ibi_pct": 0.0, "state_rebate_us_dollars_per_kw": 0.0, "installed_cost_us_dollars_per_kw": 3013.0, "utility_ibi_max_us_dollars": 10000000000.0, "pressure_atmospheres": None, "pbi_system_max_kw": 1000000000.0, "utility_ibi_pct": 0.0, "state_ibi_max_us_dollars": 10000000000.0, "wind_direction_degrees": None, "utility_rebate_max_us_dollars": 10000000000.0, "macrs_option_years": 5, "state_rebate_max_us_dollars": 10000000000.0, "federal_itc_pct": 0.3, "temperature_celsius": None, "pbi_us_dollars_per_kwh": 0.0, "om_cost_us_dollars_per_kw": 35.0, "utility_rebate_us_dollars_per_kw": 0.0, "min_kw": 0.0, "macrs_itc_reduction": 0.5, "federal_rebate_us_dollars_per_kw": 0.0}}, "time_steps_per_hour": 1, "user_uuid": None}}
        resp = self.get_response(data=nested_data)
        self.assertHttpCreated(resp)
        r = json.loads(resp.content)
        run_uuid = r.get('run_uuid')
        d = ModelManager.make_response(run_uuid=run_uuid)
        c = nested_to_flat(d['outputs'])

        d_expected = dict()
        d_expected['lcc'] = 11028719
        d_expected['lcc_bau'] = 11257165
        d_expected['pv_kw'] = 216.667
        # d_expected['batt_kw'] = 22.5578
        # d_expected['batt_kwh'] = 29.7464
        """
        The expected battery sizes are commented out in this test because it appears that the LCC for this scenario is
        relatively flat as a function of the battery sizes: when the battlevel dimension was removed from the mosel code
        the LCC changed from 11013855 to 11028719, which represents a relative change of approximately 5e-6. The miptol
        in the mosel code is 5e-6; therefore, both of the LCC's are optimal. However, before removing the battlevel
        dimension (which was never used in the webtool - it was designed for ITC sensitivity) the battery sizes were:
          batt_kw  = 24.4067
          batt_kwh = 32.1844
        and after removing battlevel:
          batt_kw  = 22.5578
          batt_kwh = 29.7464
        Note that the changes in battery sizes are not within our test tolerance of 0.01.
        """
        d_expected['year_one_utility_kwh'] = 9614654.6688

        try:
            check_common_outputs(self, c, d_expected)
        except:
            print("Run {} expected outputs may have changed. Check the Outputs folder.".format(run_uuid))
            print("Error message: {}".format(d['messages'].get('error')))
            raise

    def test_pv_only_scenario(self):

        nested_data = {"Scenario": {"webtool_uuid": None, "description": "", "timeout_seconds": 295, "Site": {"PV": {"pbi_years": 1.0, "macrs_bonus_pct": 0.4, "max_kw": 1000000000.0, "pbi_max_us_dollars": 1000000000.0, "radius": 0.0, "state_ibi_pct": 0.0, "utility_rebate_max_us_dollars": 10000000000.0, "installed_cost_us_dollars_per_kw": 2000.0, "utility_ibi_max_us_dollars": 10000000000.0, "tilt": 34.5794343, "federal_rebate_us_dollars_per_kw": 0.0, "gcr": 0.4, "pbi_system_max_kw": 1000000000.0, "utility_ibi_pct": 0.0, "state_ibi_max_us_dollars": 10000000000.0, "state_rebate_us_dollars_per_kw": 0.0, "macrs_option_years": 5, "state_rebate_max_us_dollars": 10000000000.0, "dc_ac_ratio": 1.1, "federal_itc_pct": 0.3, "pbi_us_dollars_per_kwh": 0.0, "module_type": 1, "array_type": 1, "existing_kw": 0.0, "om_cost_us_dollars_per_kw": 16.0, "utility_rebate_us_dollars_per_kw": 0.0, "min_kw": 0.0, "losses": 0.14, "macrs_itc_reduction": 0.5, "degradation_pct": 0.005, "inv_eff": 0.96, "azimuth": 180.0}, "Generator": {"pbi_years": 0.0, "macrs_bonus_pct": 0.0, "om_cost_us_dollars_per_kwh": 0.01, "max_kw": 0.0, "pbi_max_us_dollars": 0.0, "state_ibi_pct": 0.0, "fuel_intercept_gal_per_hr": 0.0, "generator_only_runs_during_grid_outage": True, "state_rebate_us_dollars_per_kw": 0.0, "installed_cost_us_dollars_per_kw": 600.0, "utility_ibi_max_us_dollars": 0.0, "fuel_avail_gal": 1000000000.0, "min_turn_down_pct": 0.0, "pbi_system_max_kw": 0.0, "utility_ibi_pct": 0.0, "state_ibi_max_us_dollars": 0.0, "diesel_fuel_cost_us_dollars_per_gallon": 3.0, "fuel_slope_gal_per_kwh": 0.0, "utility_rebate_max_us_dollars": 0.0, "macrs_option_years": 0, "state_rebate_max_us_dollars": 0.0, "federal_itc_pct": 0.0, "existing_kw": 0.0, "pbi_us_dollars_per_kwh": 0.0, "om_cost_us_dollars_per_kw": 10.0, "utility_rebate_us_dollars_per_kw": 0.0, "min_kw": 0.0, "macrs_itc_reduction": 0.0, "federal_rebate_us_dollars_per_kw": 0.0, "generator_sells_energy_back_to_grid": False}, "LoadProfile": {"critical_loads_kw_is_net": False, "critical_load_pct": 1.0, "loads_kw_is_net": True, "loads_kw": [], "outage_end_time_step": None, "monthly_totals_kwh": [100, 200, 250, 300, 350, 350, 400, 400, 350, 250, 250, 200], "year": 2017, "outage_start_time_step": None, "outage_is_major_event": True, "critical_loads_kw": [], "doe_reference_name": "RetailStore"}, "roof_squarefeet": 5000.0, "Storage": {"max_kwh": 1000000.0, "rectifier_efficiency_pct": 0.96, "total_itc_pct": 0.0, "min_kw": 0.0, "max_kw": 1000000.0, "replace_cost_us_dollars_per_kw": 460.0, "replace_cost_us_dollars_per_kwh": 230.0, "min_kwh": 0.0, "installed_cost_us_dollars_per_kw": 1000.0, "total_rebate_us_dollars_per_kw": 0, "installed_cost_us_dollars_per_kwh": 500.0, "inverter_efficiency_pct": 0.96, "macrs_itc_reduction": 0.5, "canGridCharge": True, "macrs_bonus_pct": 0.4, "battery_replacement_year": 10, "macrs_option_years": 5, "internal_efficiency_pct": 0.975, "soc_min_pct": 0.2, "soc_init_pct": 0.5, "inverter_replacement_year": 10}, "land_acres": 1.0, "ElectricTariff": {"add_blended_rates_to_urdb_rate": False, "wholesale_rate_us_dollars_per_kwh": 0.0, "net_metering_limit_kw": 0.0, "interconnection_limit_kw": 100000000.0, "blended_monthly_demand_charges_us_dollars_per_kw": [10.00, 10.00, 10.00, 10.00, 10.00, 10.00, 10.00, 10.00, 10.00, 10.00, 10.00, 10.00], "blended_annual_demand_charges_us_dollars_per_kw": 0.0, "blended_annual_rates_us_dollars_per_kwh": 0.0, "blended_monthly_rates_us_dollars_per_kwh": [i*2 for i in [0.05066, 0.05066, 0.05066, 0.05066, 0.05066, 0.05066, 0.05066, 0.05066, 0.05066, 0.05066, 0.05066, 0.05066]]}, "longitude": -118.1164613, "address": "", "latitude": 34.5794343, "Financial": {"escalation_pct": 0.026, "offtaker_discount_pct": 0.081, "value_of_lost_load_us_dollars_per_kwh": 100.0, "analysis_years": 20, "microgrid_upgrade_cost_pct": 0.3, "offtaker_tax_pct": 0.4, "om_cost_escalation_pct": 0.025}, "Wind": {"pbi_years": 1.0, "macrs_bonus_pct": 0.0, "max_kw": 0.0, "pbi_max_us_dollars": 1000000000.0, "wind_meters_per_sec": None, "state_ibi_pct": 0.0, "state_rebate_us_dollars_per_kw": 0.0, "installed_cost_us_dollars_per_kw": 3013.0, "utility_ibi_max_us_dollars": 10000000000.0, "pressure_atmospheres": None, "pbi_system_max_kw": 1000000000.0, "utility_ibi_pct": 0.0, "state_ibi_max_us_dollars": 10000000000.0, "wind_direction_degrees": None, "utility_rebate_max_us_dollars": 10000000000.0, "macrs_option_years": 5, "state_rebate_max_us_dollars": 10000000000.0, "federal_itc_pct": 0.3, "temperature_celsius": None, "pbi_us_dollars_per_kwh": 0.0, "om_cost_us_dollars_per_kw": 35.0, "utility_rebate_us_dollars_per_kw": 0.0, "min_kw": 0.0, "macrs_itc_reduction": 0.5, "federal_rebate_us_dollars_per_kw": 0.0}}, "time_steps_per_hour": 1, "user_uuid": None}}
        resp = self.get_response(data=nested_data)
        
        self.assertHttpCreated(resp)
        r = json.loads(resp.content)
        run_uuid = r.get('run_uuid')
        d = ModelManager.make_response(run_uuid=run_uuid)

        c = nested_to_flat(d['outputs'])
        d_expected = dict()

        d_expected['npv'] = 303
        d_expected['lcc'] = 2958
        d_expected['pv_kw'] = 0.871718
        d_expected['batt_kw'] = 0
        d_expected['batt_kwh'] = 0
        d_expected['year_one_utility_kwh'] = 1969.3274

        try:
            check_common_outputs(self, c, d_expected)
        except:
            print("Run {} expected outputs may have changed. Check the Outputs folder.".format(run_uuid))
            print("Error message: {}".format(d['messages'].get('error')))
            raise

    def test_not_optimal_solution_and_remove_url(self):
        data = {
            "Scenario": {
                "Site": {
                    "latitude": 39.91065, "longitude": -105.2348,
                    "LoadProfile": {
                        "doe_reference_name": "MediumOffice", "annual_kwh": 10000000,
                        "outage_start_time_step": 1, "outage_end_time_step": 21
                    },
                    "ElectricTariff": {
                        "blended_monthly_rates_us_dollars_per_kwh": [0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2,
                                                                     0.2, 0.2],
                        "blended_monthly_demand_charges_us_dollars_per_kw": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
                                                                             0.0, 0.0, 0.0, 0.0]
                    },
                    "PV": {
                        "max_kw": 0
                    },
                    "Storage": {
                        "max_kw": 0
                    },
                    "Wind": {
                        "max_kw": 0
                    },
                    "Generator": {
                        "max_kw": 0
                    }
                }
            }
        }
        response = self.get_response(data=data)
        r = json.loads(response.content)
        run_uuid = r.get('run_uuid')
        d = ModelManager.make_response(run_uuid=run_uuid)

        self.assertTrue('REopt could not find an optimal solution for these inputs.' in d['messages']['error'])
        # testing "remove" url:
        response = self.api_client.get(self.reopt_base + str(run_uuid) + '/remove')
        self.assertEqual(response.status_code, 204)
        self.assertTrue(len(ScenarioModel.objects.filter(run_uuid=run_uuid)) == 0)

    def get_inputs_with_sub_key_from_nested_dict(self, nested_dict, sub_key, matched_values=None, obj_path=[],
                                                 sub_key_values=[]):
        """
        given a nested dictionary (i.e. nested_inputs_definitions) return all of the keys that contain sub-keys matching
        sub_key
        :param nested_dict:
        :param sub_key:
        :param matched_values: list of str containing desired keys
        :param obj:
        :return:
        """
        if matched_values is None:
            matched_values = []
        for k, v in nested_dict.items():
            if k[0].islower() and isinstance(v, dict):  # then k is an input attribute
                if any(sk == sub_key for sk in nested_dict[k].keys()):
                    matched_values.append(obj_path + [k])
                    sub_key_values.append(nested_dict[k][sub_key])
            elif isinstance(nested_dict[k], dict):  # then k is an abstract input class, dig deeper in nested_dict
                self.get_inputs_with_sub_key_from_nested_dict(nested_dict[k], sub_key, matched_values,
                                                              obj_path=obj_path+[k])
        return matched_values, sub_key_values
