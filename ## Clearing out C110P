## Clearing out C110P

Are you getting 502 errors from c110? There's a chance the server is full and needs to have some space freed up.

## Options

### Undeploy old repos

1) Navigate to: https://tada-ci.nrel.gov/job/reopt-api/job/reopt-api-open-source-c110p-undeploy/
(See Nick M for permissions) 

2) Click `Build with Parameters`

3) Type the name of the branch you want to remove from c110p in the `PARAM_BRANCHES` box, then click `Build`. Note, you can type multiple names separated by spaces to clear multiple repositories at once.

### Clear the Database Schema

1) From your local REopt_Lite_API directory: 
 - In `manage.py` change reopt_api.dev_settings to reopt_api.internal_c110p_settings, this will tell the API to use
 the settings file in `reopt_api/internal_c110p_settings.py`
 - In `reopt_api/internal_c110p_settings.py` change the **DATABASES** _**NAME**_ 
 to **iac-c110p.nrel.gov** from **localhost**

2) Very important: make sure you save your changes to `manage.py` and `reopt_api/internal_c110p_settings.py` before you continue. Otherwise, you will clear the schema for your local database, or some other unintended database.

3) From the terminal window, run: 
    
        python manage.py dbshell

4) Make sure the PSQL terminal window is prefixed with **reopt_development=>** then type (THIS WILL CLEAR ALL DATA IN THAT SCHEMA):
	
	    drop schema reopt_api cascade;
	    create schema reopt_api;

5) Use CTRL-A-D to close the window

6) From the terminal window repopulate the schema with:
        python manage.py migrate

7) Revert your changes from step 1!